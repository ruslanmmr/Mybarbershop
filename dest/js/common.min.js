"use strict";$(document).ready(function(){lazy(),tooltip(),nav(),slider(),gallery(),showNum(),share(),autoHeight(),checkbox(),checkboxCheck(),fadeInWindows(),scrollbar(),funcybox(),toggleblocks(),tabs(),select(),0<$(".date-slider").length&&$dateSlider.init()}),$(window).resize(function(){windowW=Math.max(window.innerWidth,document.documentElement.clientWidth),pageW=Math.min(window.innerWidth,document.documentElement.clientWidth),gallery(),autoHeight(),$("img").each(function(){})});var $checkbox,windowW=Math.max(window.innerWidth,document.documentElement.clientWidth),pageW=Math.min(window.innerWidth,document.documentElement.clientWidth),scrollbarW=windowW-pageW,$slider=$(".slider:visible"),$scroll=$(".scroll-area");function scrollbar(){$scroll.niceScroll({cursorcolor:"#fff",cursorwidth:"5px",cursorborder:"0",cursorborderradius:"0",zindex:[100],bouncescroll:!1,autohidemode:!1}),setInterval(function(){$scroll.getNiceScroll().resize()},100)}function searchCity(){var i=$("#windowCity").find(".input"),s=$("#windowCity").find(".popup-window__item"),o=$("#windowCity").find(".popup-window__list"),a=document.createElement("li");a.className="popup-window__item",a.innerHTML="<span>Совпадений не найдено!</span>",i.on("input",function(){var e=i.val().toLowerCase();if(1<=e.length){s.hide();var t=0;s.each(function(){-1!==$(this).find("a").text().toLowerCase().search(e)&&(t++,$(this).show())}),0==t?o.append(a):a.remove()}else a.remove(),s.show();$scroll.getNiceScroll().resize()})}function fadeInWindows(){var t,i,s={old:{el:void 0,hide:function(){$(this.el).fadeOut(200),$(this.el).removeClass("active"),o.el.removeClass("active")}},current:{el:void 0,hide:function(){$(this.el).fadeOut(200),$(this.el).removeClass("active"),o.el.removeClass("active")},show:function(){$(this.el).fadeIn(200),$(this.el).addClass("active"),o.current.el.addClass("active"),$scroll.getNiceScroll().resize(),s.old.el=s.current.el}}},o={className:"windowOpenButton",el:$(".windowOpenButton"),current:{el:void 0}};$(document).on("click touchstart mousedown touchend",function(e){0<$(e.target).closest(o.el).length?"click"==e.type&&(e.preventDefault(),o.current.el=$(e.target).closest(o.el),s.current.el=$(o.current.el.attr("href")),i=1024<windowW?(t=o.current.el.offset().top+o.current.el.height()+2-$(".header").offset().top,pageW-(o.current.el.offset().left+o.current.el.width())+4):(t=$(".header").height(),0),s.current.el.css({top:t,right:i}),s.current.el.hasClass("active")?s.current.hide():(void 0!==s.old.el&&s.old.el.hasClass("active")&&s.old.hide(),s.current.show())):void 0!==s.current.el&&s.current.el.hasClass("active")&&0==$(e.target).closest(s.current.el).length&&s.current.hide()})}function nav(){var e=$(".sub-nav__nav-open, .nav__close"),t=$(".overlay"),i=$(".nav");function s(){i.hasClass("active")?(t.fadeIn(300),scrollLock.hide($("body")),$(".page").addClass("active")):(t.fadeOut(300),scrollLock.show($("body")),$(".page").removeClass("active"))}e.on("click",function(e){e.preventDefault(),i.toggleClass("active"),s()}),t.on("click touchstart",function(){i.removeClass("active"),s()}),$(window).resize(function(){1024<windowW&&(i.removeClass("active"),s())})}function lazy(){$(".lazy").Lazy({effectTime:0,threshold:0,imageBase:!1,defaultImage:!1,afterLoad:function(e){imagesResize(e)}})}function imagesResize(t){var e=t.parent();if(e.hasClass("cover-box_size-auto"))t.addClass("visible");else{var i=e.height(),s=e.width();setTimeout(function(){var e=t.height();t.width()/e<=s/i?t.addClass("ww").removeClass("wh"):t.addClass("wh").removeClass("ww"),t.addClass("visible")},100)}}function tooltip(){$(".tooltip").tooltipster({theme:"tooltipster-light",trigger:"custom",animationDuration:100,trackerInterval:100,triggerOpen:{click:!0,touchstart:!0,mouseenter:!0},triggerClose:{click:!0,touchleave:!0,mouseleave:!0}})}function slider(){$slider.on("init",function(){$(this).addClass("slider_visible")}),$slider.each(function(){$(this).on("init beforeChange afterChange",function(){lazy()});var e=1,t=1,i=1,s=1,o=1,a=1,n=!1,l=!1,c=!1,r=!1;if($(this).hasClass("slider_dots")&&(l=!0),$(this).hasClass("slider_arrows")&&(n=!0),$(this).hasClass("recommendations-slider")&&(e=6,t=5,i=4,s=3,o=2,a=1),($(this).hasClass("barbers-slider")||$(this).hasClass("portfolio-slider")||$(this).hasClass("barbershops-slider"))&&(t=e=4,i=3,s=2,a=o=1),$(this).hasClass("banner__slider")&&(c=!0),$(this).hasClass("awards-slider")&&(t=e=5,i=4,s=3,a=o=2,r=!0),$(this).hasClass("baraholka-slider")){var d=$(this);if(!d.hasClass("slick-initialized")){var h,u=function(){f.removeClass("active"),f.parent().eq(h).find(f).addClass("active")},f=d.parents(".baraholka-item").find(".baraholka-slider-nav__item a");d.on("afterChange",function(e,t,i,s){h=i,u()}),f.on("click",function(e){e.preventDefault(),h=$(this).parent().index(),d.slick("slickGoTo",h),u()})}}$(this).slick({infinite:!0,dots:l,arrows:n,speed:600,adaptiveHeight:r,centerMode:c,slidesToShow:e,slidesToScroll:e,responsive:[{breakpoint:1200,settings:{slidesToShow:t,slidesToScroll:t}},{breakpoint:1024,settings:{slidesToShow:i,slidesToScroll:i}},{breakpoint:768,settings:{slidesToShow:s,slidesToScroll:s}},{breakpoint:576,settings:{slidesToShow:o,slidesToScroll:o}},{breakpoint:420,settings:{slidesToShow:a,slidesToScroll:a}}]})}),$(".publications-slide").parent().css("display","flex")}function gallery(){var e,t=$(".gallery__row:not(:first-child)"),i=$(".gallery-block");$(".gallery-block_title");576<windowW?(i.css("margin-top","0"),t.each(function(){e=-$(this).height()/2,$(this).css("margin-top",e)})):(t.css("margin-top","0"),i.each(function(){e=-$(this).height()/2,$(this).css("margin-top",e)}))}function showNum(){$(document).on("click",".number-btn",function(e){if(!$(this).hasClass("visible")){e.preventDefault();var t=$(this).data("number");$(this).text("Телефон: ".concat(t)).addClass("visible")}})}function share(){var o,e,t=$(".share-trigger"),a=$(".share-area"),i=$(".share-area__close"),s=$(".share-area__content"),n=$(".share-area__wrap"),l=!1;function c(){var e=$(".header").height();$(window).scrollTop()<e?a.css({position:"absolute",top:e}):a.css({position:"fixed",top:"0"})}function r(){1==o?e=setInterval(function(){s.width(n.width()),s.height(n.height())},50):clearInterval(e)}t.on("click",function(e){var t,i,s;e.preventDefault(),a.fadeIn(200),o=!0,c(),l||($.getScript("https://vk.com/js/api/openapi.js?160",function(){VK.init({apiId:6968173,onlyWidgets:!0}),VK.Widgets.Like("vk_like",{type:"mini",height:30})}),$("body").prepend('<script async defer crossorigin="anonymous" src="https://connect.facebook.net/ru_RU/sdk.js#xfbml=1&version=v3.3"><\/script>'),t=document,i=document.URL,(s=t.createElement("script")).src="https://connect.ok.ru/connect.js",s.onload=s.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||this.executed||(this.executed=!0,setTimeout(function(){OK.CONNECT.insertShareWidget("ok_shareWidget",i,'{"sz":30,"st":"oval","ck":1}',"","","")},0))},t.documentElement.appendChild(s),l=!0),r()}),$(document).on("click touchstart",function(e){(i.is(e.target)||!t.is(e.target)&&!a.is(e.target)&&0===a.has(e.target).length)&&(a.fadeOut(200),o=!1,r())}),$(window).on("scroll resize",function(){c()})}function funcybox(){$.fancybox.defaults.btnTpl.close='<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.6 13.6"><path d="M6.8 5.4L1.4 0 0 1.4l5.4 5.4L0 12.2l1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4L12.2 0z"></path></svg></button>',$.fancybox.defaults.btnTpl.arrowLeft='<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 10.14"><path d="M6.28 8.77l-1.34 1.37L0 5.07 4.94 0l1.34 1.38L3.6 4.1H14v1.94H3.6z"></path></svg></div></button>',$.fancybox.defaults.btnTpl.arrowRight='<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_right" title="{{PREV}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 10.14"><path d="M10.4 6.04L7.72 8.76l1.34 1.38L14 5.07 9.06 0 7.72 1.38 10.4 4.1H0v1.94z"></path></svg></div></button>',$.fancybox.defaults.btnTpl.zoom='<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.056 14.096"> <path d="M13.756 12.356l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zm-10.6-3.5a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z"></path> </svg></button>',$.fancybox.defaults.btnTpl.download='<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.24 14"> <path d="M13.24 12.09V14H0v-1.91zm-2.97-6.96l1.35 1.32-5 4.87-5-4.87 1.36-1.32 2.68 2.64V0h1.92v7.77z"></path> </svg></a>',$.fancybox.defaults.btnTpl.slideShow='<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 13.2"> <path d="M0 0v13.2l11-6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7.35 12.5" id="slideshow"><path d="M0 0h2.2v12.5H0zm5.15 0h2.2v12.5h-2.2z"></path></svg></button>',$.fancybox.defaults.btnTpl.smallBtn='<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.6 13.6"><path d="M6.8 5.4L1.4 0 0 1.4l5.4 5.4L0 12.2l1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4L12.2 0z"></path></svg></button>',$.fancybox.defaults.btnTpl.thumbs='<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12.7 12.7" id="slideshow"><path d="M8.94 8.94h3.76v3.76H8.94zm-4.47 0h3.76v3.76H4.47zM0 8.94h3.76v3.76H0zm8.94-4.47h3.76v3.76H8.94zm-4.47 0h3.76v3.76H4.47zM0 4.47h3.76v3.76H0zM8.94 0h3.76v3.76H8.94zM4.47 0h3.76v3.76H4.47zM0 0h3.76v3.76H0z"></path></svg></button>',$.fancybox.defaults.i18n.ru={CLOSE:"Закрыть",NEXT:"Следующий слайд",PREV:"Предидущий слайд",ERROR:"Ошибка загрузки, попробуйте позже.",PLAY_START:"Запустить слайд-шоу",PLAY_STOP:"Остановить слайд-шоу",FULL_SCREEN:"Полноэкранный режим",THUMBS:"Миниатюры",DOWNLOAD:"Загрузить",SHARE:"Поделиться",ZOOM:"Увеличить"},$.fancybox.defaults.lang="ru",$.fancybox.defaults.loop=!0,$.fancybox.defaults.autoFocus=!1,$.fancybox.defaults.animationEffect="fade",$.fancybox.defaults.backFocus="false",$(".modal-link").fancybox({autoFocus:!1,smallBtn:!0,touch:!1}),$(".slide [data-fancybox]").on("click",function(){var e=$(this).parents(".slider").find(".slick-slide:not(.slick-cloned) a");return $.fancybox.open(e,{selector:e,backFocus:!1},e.index(this)),!1})}function autoHeight(){var e=$(".js-auto-height__item");e.css("height","auto"),e.parent().each(function(){var t=0;$(this).find(e).each(function(){var e=parseInt($(this).height());t<e&&(t=e)}),$(this).find(e).height(t)})}function checkbox(){$(document).on("click",".checkbox",function(){checkboxCheck()})}function checkboxCheck(){($checkbox=$(".checkbox")).each(function(){$(this).find("input").prop("checked")||$("#"+$(this).attr("for")).prop("checked")?($(this).addClass("checked"),$(this).hasClass("toggle-checkbox")&&$(this).parents("form").find(".toggle-item").addClass("active")):($(this).removeClass("checked"),$(this).hasClass("toggle-checkbox")&&$(this).parents("form").find(".toggle-item").removeClass("active"))}),0<$(".kate-check-block").length&&(totalPrice(),console.log("++"))}function totalPrice(){var e=0,t=$(".form__total-price span");$(".kate-check-block").each(function(){$(this).find("input").prop("checked")&&(e+=+$(this).find("input").data("price"))}),t.text(e+" р."),$(".total-price").val(e+" р.")}function toggleblocks(){var t,i,s=$(".toggle-group");$(document).on("click",".toggle-button",function(e){e.preventDefault(),s=$(this).closest(".toggle-group"),i=s.find(".toggle-content").eq(0),t=s.find(".toggle-button").not(i.find(".toggle-button")),s.hasClass("active")?(s.removeClass("active"),i.removeClass("active"),t.each(function(){$(this).removeClass("active"),void 0!==$(this).data("hide-text")&&$(this).text($(this).data("show-text"))})):(s.addClass("active"),i.addClass("active"),t.each(function(){$(this).addClass("active"),void 0!==$(this).data("hide-text")&&$(this).text($(this).data("hide-text"))}))})}function tabs(){$(".tab-block__item a").eq(0).addClass("active"),$(".tab-block__tab").not(":first").hide(),$(document).on("click",".tab-block__item a",function(e){e.preventDefault();var t=$(this).parent().index(),i=$(this).parents(".tab-block");i.find(".tab-block__item a").removeClass("active"),$(this).addClass("active"),i.find(".tab-block__tab").hide(),i.find(".tab-block__tab").eq(t).fadeIn(200)})}function select(){$("html").hasClass("desktop")?$(".select select").niceSelect():$(".select").addClass("mobile-select")}var $dateSlider={parent:$(".date-slider"),element:$(".date-slider__slider"),month:$(".date-slider__month"),loader:$(".date-slider-loader"),nextSlideControl:$(".date-slider__content .date-slider__next-m"),prevSlideControl:$(".date-slider__content .date-slider__prev-m"),nextMControl:$(".date-slider__head .date-slider__next-m"),prevMControl:$(".date-slider__head .date-slider__prev-m"),inload:!1,firstLoad:!0,init:function(){this.slide=$(".date-slider-item"),this.element=$(".date-slider__slider"),1==this.firstLoad&&(this.firstLoad=!1,this.nextMControl.on("click",function(){0==$dateSlider.inload&&$dateSlider.changeMonth("next")}),this.prevMControl.on("click",function(){0==$dateSlider.inload&&$dateSlider.changeMonth("prev")}),this.prevSlideControl.on("click",function(){$(".slick-slide:first-child").hasClass("slick-active")&&0==$dateSlider.inload?$dateSlider.changeMonth("prev"):$dateSlider.element.slick("slickPrev")}),this.nextSlideControl.on("click",function(){$(".slick-slide:last-child").hasClass("slick-active")&&0==$dateSlider.inload?$dateSlider.changeMonth("next"):$dateSlider.element.slick("slickNext")}),this.element.on("edge",function(e,t,i){0==$dateSlider.inload&&("right"==i?$dateSlider.changeMonth("prev"):"left"==i&&$(".slick-slide:last-child").hasClass("slick-active")&&$dateSlider.changeMonth("next"))})),this.element.on("init",function(){$dateSlider.inload=!1,$dateSlider.loader.removeClass("visible"),$dateSlider.element.addClass("visible")}),this.element.slick({infinite:!1,dots:!1,arrows:!1,speed:300,slidesToShow:12,slidesToScroll:5,touchThreshold:10,responsive:[{breakpoint:1200,settings:{slidesToShow:10}},{breakpoint:992,settings:{slidesToShow:8}},{breakpoint:768,settings:{slidesToShow:6,slidesToScroll:6}},{breakpoint:576,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:420,settings:{slidesToShow:3,slidesToScroll:3}}]})},changeMonth:function(e){var t=this;this.inload=!0,$dateSlider.loader.addClass("visible"),$dateSlider.element.removeClass("visible"),setTimeout(function(){t.element.slick("unslick"),t.slide.remove(),"next"==e?$dateSlider.parent.trigger("next"):$dateSlider.parent.trigger("prev")},500)}};
//# sourceMappingURL=maps/common.min.js.map
