"use strict";$(document).ready(function(){lazy(),tooltip(),nav(),cityBlock(),slider(),gallery(),cover(),showNum(),share(),popup()}),$(window).resize(function(){innerWidth=$("body").innerWidth(),gallery(),cover()});var innerWidth=$("body").innerWidth(),cursorcolorVar="#fff",cursorwidthVar="7px",cursorborderVar="0",cursorborderradiusVar="0",zindexVar=[100],bouncescrollVar=!1;function cityBlock(){var e,t,s,i=$(".sub-nav__link_city"),o=$(".search-city__input"),r=$(".search-city__list"),a=$(".search-city"),n=$("html, body").scrollTop(),c=$("html, body").scrollTop(),l=$(".search-city__item_city"),d=$(".search-city__item_nothing");function h(){n=$("html, body").scrollTop(),a.toggleClass("search-city_visible"),a.hasClass("search-city_visible")?(i.addClass("mobile-button_active"),o.val(""),u(),a.fadeIn(300),t=!0,r.niceScroll({cursorcolor:cursorcolorVar,cursorwidth:cursorwidthVar,cursorborder:cursorborderVar,cursorborderradius:cursorborderradiusVar,zindex:zindexVar,bouncescroll:bouncescrollVar,autohidemode:!1}),r.getNiceScroll().resize()):(i.removeClass("mobile-button_active"),a.fadeOut(300),t=!1)}function u(){1<=(e=o.val().toLowerCase()).length?(l.removeClass("search-city__item_active"),l.each(function(){-1!=$(this).attr("data-city").toLowerCase().search(e)&&$(this).addClass("search-city__item_active")}),$(".search-city__item_city.search-city__item_active").length<1?d.addClass("search-city__item_active"):d.removeClass("search-city__item_active")):(l.addClass("search-city__item_active"),d.removeClass("search-city__item_active")),r.getNiceScroll().resize()}o.keyup(function(){u()}),$(document).on("click touchstart",function(e){s||(s=!0,setTimeout(function(){s=!1},300),!a.is(e.target)&&0===a.has(e.target).length&&a.hasClass("search-city_visible")?h():(i.is(e.target)||i.children().is(e.target))&&h())}),$(window).scroll(function(){c=$("html, body").scrollTop(),(n+100<c||c<n-100)&&1==t&&h()})}function cover(){$(".cover-box").each(function(){var e=$(this).height(),t=$(this).width(),s=$(this).children("img"),i=s.height();s.width()/i<=t/e?s.addClass("ww").removeClass("wh"):s.addClass("wh").removeClass("ww")})}function nav(){var e=$(".sub-nav__nav-open, .nav__close, .overlay"),i=$(".nav"),t=$(".nav__link"),s=$(".overlay"),o=$(".scroll-link");function r(){i.hasClass("nav_active")?(s.fadeIn(300),scrollLock.hide($("body")),$(".page").addClass("page_fixed")):(s.fadeOut(300),scrollLock.show($("body")),$(".page").removeClass("page_fixed"))}e.click(function(e){e.preventDefault(),i.toggleClass("nav_active"),r()}),$(window).resize(function(){992<innerWidth&&(i.removeClass("nav_active"),r())}),t.on("click",function(){innerWidth<993&&(i.removeClass("nav_active"),r())}),o.click(function(e){var t=$(this).attr("href"),s=$(t).offset().top;e.preventDefault(),innerWidth<993?(i.removeClass("nav_active"),r(),setTimeout(function(){$("body,html").animate({scrollTop:s},400)},300)):$("body,html").animate({scrollTop:s},400)})}function lazy(){$(".lazy").Lazy({visibleOnly:!0,threshold:"",effect:"fadeIn",effectTime:"300",defaultImage:!1})}function tooltip(){$(".tooltip").tooltipster({theme:"tooltipster-light",trigger:"custom",animationDuration:100,trackerInterval:100,triggerOpen:{click:!0,touchstart:!0,mouseenter:!0},triggerClose:{click:!0,touchleave:!0,mouseleave:!0}})}function slider(){var e=$(".slider");e.on("init",function(){$(this).addClass("slider_visible")}),e.each(function(){var e=1,t=1,s=1,i=1,o=1,r=1,a=1,n=1,c=1,l=1,d=1,h=1,u=1,_=!1,f=!1,v=!1,p=!1;$(this).hasClass("slider_dots")&&(f=!0),$(this).hasClass("slider_arrows")&&(_=!0),$(this).hasClass("recommendations-slider")&&(e=6,s=5,o=4,a=3,c=2,d=1),$(this).hasClass("barbers__slider")&&(s=e=4,o=3,a=2,d=c=1),$(this).hasClass("banner__slider")&&(v=!0),$(this).hasClass("portfolio__slider")&&(i=t=4,n=r=3,h=l=u=2),$(this).hasClass("awards__slider")&&(s=e=5,o=4,a=3,d=c=2,p=!0),$(this).slick({infinite:!0,dots:f,arrows:_,speed:600,lazyLoad:"ondemand",adaptiveHeight:p,centerMode:v,slidesToShow:e,slidesToScroll:e,slidesPerRow:t,rows:u,responsive:[{breakpoint:1200,settings:{slidesToShow:s,slidesToScroll:s,slidesPerRow:i}},{breakpoint:992,settings:{slidesToShow:o,slidesToScroll:o,slidesPerRow:r}},{breakpoint:768,settings:{slidesToShow:a,slidesToScroll:a,slidesPerRow:n}},{breakpoint:576,settings:{slidesToShow:c,slidesToScroll:c,slidesPerRow:l}},{breakpoint:420,settings:{slidesToShow:d,slidesToScroll:d,slidesPerRow:h}}]})})}function gallery(){var e,t=$(".gallery__row:not(:first-child)"),s=$(".gallery-block");$(".gallery-block_title");576<innerWidth?(s.css("margin-top","0"),t.each(function(){e=-$(this).height()/2,$(this).css("margin-top",e)})):(t.css("margin-top","0"),s.each(function(){e=-$(this).height()/2,$(this).css("margin-top",e)}))}function showNum(){$(".number-block__show-btn").on("click",function(){$(this).parents(".number-block").find("span").text("999-99-99"),$(this).remove()})}function share(){var o,e,t=$(".share-trigger"),r=$(".share-area"),s=$(".share-area__close"),i=$(".share-area__content"),a=$(".share-area__wrap"),n=!1;function c(){var e=$(".header").height(),t=$(window).scrollTop();console.log(t,e),t<e?r.css({position:"absolute",top:e}):r.css({position:"fixed",top:"0"})}function l(){1==o?e=setInterval(function(){i.width(a.width()),i.height(a.height())},50):clearInterval(e)}t.on("click",function(e){var t,s,i;e.preventDefault(),r.fadeIn(200),o=!0,c(),n||($.getScript("https://vk.com/js/api/openapi.js?160",function(){VK.init({apiId:6968173,onlyWidgets:!0}),VK.Widgets.Like("vk_like",{type:"mini",height:30})}),$("body").prepend('<script async defer crossorigin="anonymous" src="https://connect.facebook.net/ru_RU/sdk.js#xfbml=1&version=v3.3"><\/script>'),t=document,s=document.URL,(i=t.createElement("script")).src="https://connect.ok.ru/connect.js",i.onload=i.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||this.executed||(this.executed=!0,setTimeout(function(){OK.CONNECT.insertShareWidget("ok_shareWidget",s,'{"sz":30,"st":"oval","ck":1}',"","","")},0))},t.documentElement.appendChild(i),n=!0),l()}),s.on("click",function(e){e.preventDefault(),r.fadeOut(200),o=!1,l()}),$(window).on("scroll resize",function(){c()})}function popup(){$(".popup-link").fancybox({autoFocus:!1,loop:!0}),$(".modal-link").fancybox({autoFocus:!1,smallBtn:!0,touch:!1}),$(".gallery__item a").on("click",function(){var e=$(this).parents(".gallery").find(".slick-slide:not(.slick-cloned) a");return $.fancybox.open(e,{selector:e,backFocus:!1,loop:!0,animationEffect:"fade"},e.index(this)),!1}),$("body").removeClass("compensate-for-scrollbar")}
//# sourceMappingURL=maps/common.min.js.map
