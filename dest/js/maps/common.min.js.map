{"version":3,"sources":["common.js"],"names":["$","document","ready","lazy","tooltip","nav","cityBlock","slider","gallery","cover","showNum","share","popup","check","resize","innerWidth","window","cursorcolorVar","cursorborderVar","cursorborderradiusVar","zindexVar","bouncescrollVar","inputVal","state","flag","openbutton","textInput","list","scrollStart","scrollTop","scrollEnd","item","falseText","toggleClass","hasClass","addClass","val","searchCity","fadeIn","cursorwidth","cursorwidthVar","cursorborder","cursorborderradius","zindex","bouncescroll","autohidemode","getNiceScroll","removeClass","fadeOut","toLowerCase","attr","search","value","length","on","e","setTimeout","toggleModal","is","target","has","children","scroll","th","this","height","tw","width","im","ih","each","$navToggle","$overlay","$nav","overlay","event","preventDefault","navState","hide","show","scrollLock","id","top","offset","navLink","animate","scrollLink","Lazy","visibleOnly","effectTime","defaultImage","afterLoad","autoHeight","$slider","slick","effect","tooltipster","click","touchstart","mouseenter","triggerClose","touchleave","theme","slideCount","slideCount1200","mouseleave","slideCount992","slidesPerRow992","slideCount768","slidesPerRow768","slideCount576","slidesPerRow576","slidesPerRow420","rows","dots","adaptiveHeight","slidesPerRow","arrows","slideCount420","centerMode","slidesPerRow1200","infinite","responsive","settings","breakpoint","lazyLoad","slidesToShow","slidesToScroll","parent","css","margin","row","block","find","text","remove","visible","interval","$shareContent","$shareWrap","loaded","pos","headerHeight","$shareBlock","getSocials","console","setInterval","clearInterval","$shareTrigger","did","$toggleBtn","$shareClose","getScript","VK","init","apiId","prepend","URL","d","createElement","src","js","onreadystatechange","readyState","executed","onlyWidgets","Widgets","Like","insertShareWidget","documentElement","appendChild","shareOpen","onload","fancybox","autoFocus","loop","smallBtn","touch","$selector","parents","open","selector","backFocus","animationEffect","index","$block","mh","h_block","parseInt","prop"],"mappings":"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","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\r\n  lazy();\r\n  tooltip();\r\n  nav();\r\n  cityBlock();\r\n  slider();\r\n  gallery();\r\n  cover();\r\n  showNum();\r\n  share();\r\n  popup();\r\n  autoHeight();\r\n  check();\r\n});\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n  gallery();\r\n  cover();\r\n  autoHeight();\r\n});\r\n\r\n//global variables\r\nvar innerWidth = $('body').innerWidth(),\r\n    $slider = $('.slider'),\r\n  //scroll-styling\r\n  cursorcolorVar = \"#fff\",\r\n  cursorwidthVar = \"7px\",\r\n  cursorborderVar = \"0\",\r\n  cursorborderradiusVar = \"0\",\r\n  zindexVar = [100],\r\n  bouncescrollVar = false;\r\n//\r\n\r\n//city-block\r\nfunction cityBlock() {\r\n  var openbutton = $(\".sub-nav__link_city\"),\r\n    textInput = $('.search-city__input'),\r\n    list = $('.search-city__list'),\r\n    cityBlock = $(\".search-city\"),\r\n    scrollStart = $(\"html, body\").scrollTop(),\r\n    scrollEnd = $(\"html, body\").scrollTop(),\r\n    item = $(\".search-city__item_city\"),\r\n    falseText = $(\".search-city__item_nothing\"),\r\n    inputVal,\r\n    value,\r\n    quantity,\r\n    state,\r\n    flag;\r\n\r\n  //события\r\n  textInput.keyup(function () {\r\n    searchCity();\r\n  });\r\n\r\n  $(document).on('click touchstart', function (e) {\r\n    if (!flag) {\r\n      flag = true;\r\n      setTimeout(function () {\r\n        flag = false;\r\n      }, 300);\r\n      if (!cityBlock.is(e.target) && cityBlock.has(e.target).length === 0 && cityBlock.hasClass(\"search-city_visible\")) {\r\n        toggleModal();\r\n      } else if (openbutton.is(e.target) || openbutton.children().is(e.target)) {\r\n        toggleModal();\r\n      }\r\n    }\r\n  });\r\n\r\n  $(window).scroll(function () {\r\n    scrollEnd = $(\"html, body\").scrollTop();\r\n    if (((scrollEnd > (scrollStart + 100)) || ((scrollEnd < (scrollStart - 100)))) && state == true) {\r\n      toggleModal();\r\n    }\r\n  });\r\n\r\n  //функции\r\n  function scrollInit() {\r\n    list.niceScroll({\r\n      cursorcolor: cursorcolorVar,\r\n      cursorwidth: cursorwidthVar,\r\n      cursorborder: cursorborderVar,\r\n      cursorborderradius: cursorborderradiusVar,\r\n      zindex: zindexVar,\r\n      bouncescroll: bouncescrollVar,\r\n      autohidemode: false\r\n    });\r\n  };\r\n\r\n  //открытие или закрытие модалки\r\n  function toggleModal() {\r\n    scrollStart = $(\"html, body\").scrollTop();\r\n    cityBlock.toggleClass(\"search-city_visible\");\r\n    if (cityBlock.hasClass(\"search-city_visible\")) {\r\n      openbutton.addClass('mobile-button_active');\r\n      textInput.val(\"\");\r\n      searchCity();\r\n      cityBlock.fadeIn(300);\r\n      state = true;\r\n      scrollInit();\r\n      list.getNiceScroll().resize();\r\n    } else {\r\n      openbutton.removeClass('mobile-button_active');\r\n      cityBlock.fadeOut(300);\r\n      state = false;\r\n    }\r\n  };\r\n\r\n  //поиск\r\n  function searchCity() {\r\n    inputVal = textInput.val().toLowerCase();\r\n    if (inputVal.length >= 1) {\r\n      item.removeClass(\"search-city__item_active\");\r\n      item.each(function () {\r\n        value = $(this).attr('data-city').toLowerCase();\r\n        if (value.search(inputVal) != -1) {\r\n          $(this).addClass('search-city__item_active');\r\n        }\r\n      })\r\n      quantity = $(\".search-city__item_city.search-city__item_active\").length;\r\n      if (quantity < 1) {\r\n        falseText.addClass(\"search-city__item_active\");\r\n      } else {\r\n        falseText.removeClass(\"search-city__item_active\");\r\n      }\r\n    } else {\r\n      item.addClass(\"search-city__item_active\");\r\n      falseText.removeClass(\"search-city__item_active\");\r\n    }\r\n    list.getNiceScroll().resize();\r\n  };\r\n}\r\n//image-cover-box\r\nfunction cover() {\r\n  $('.cover-box').each(function () {\r\n    //set size\r\n    var th = $(this).height(), //box height\r\n      tw = $(this).width(), //box width\r\n      im = $(this).children('img'), //image\r\n      ih = im.height(),\r\n      iw = im.width();\r\n    if ((tw / th) >= (iw / ih)) {\r\n      im.addClass('ww').removeClass('wh');\r\n    } else {\r\n      im.addClass('wh').removeClass('ww');\r\n    }\r\n  });\r\n}\r\n\r\n//nav\r\nfunction nav() {\r\n  var $navToggle = $('.sub-nav__nav-open, .nav__close'),\r\n    $overlay = $('.overlay'),\r\n    $nav = $('.nav'),\r\n    navLink = $('.nav__link'),\r\n    overlay = $('.overlay'),\r\n    scrollLink = $('.scroll-link');\r\n\r\n  $navToggle.on('click', function (event) {\r\n  event.preventDefault();\r\n  $nav.toggleClass('nav_active');\r\n  navState();\r\n  })\r\n  \r\n  $overlay.on('click touchstart', function () {\r\n    $nav.removeClass('nav_active');\r\n    navState();\r\n  })\r\n\r\n  function navState() {\r\n    if ($nav.hasClass('nav_active')) {\r\n      overlay.fadeIn(300);\r\n      scrollLock.hide($(\"body\"));\r\n      $('.page').addClass('page_fixed');\r\n    } else {\r\n      overlay.fadeOut(300);\r\n      scrollLock.show($(\"body\"));\r\n      $('.page').removeClass('page_fixed');\r\n    }\r\n  }\r\n  $(window).resize(function () {\r\n    if (innerWidth > 992) {\r\n      $nav.removeClass('nav_active');\r\n      navState();\r\n    }\r\n  });\r\n  navLink.on('click', function () {\r\n    if (innerWidth < 993) {\r\n      $nav.removeClass('nav_active');\r\n      navState();\r\n    }\r\n  })\r\n\r\n  //якорные ссылки\r\n  scrollLink.click(function (event) {\r\n    var id = $(this).attr('href'),\r\n      top = $(id).offset().top;\r\n    event.preventDefault();\r\n\r\n    if (innerWidth < 993) {\r\n      $nav.removeClass('nav_active');\r\n      navState();\r\n      setTimeout(function () {\r\n        $('body,html').animate({\r\n          scrollTop: top\r\n        }, 400);\r\n      }, 300)\r\n    } else {\r\n      $('body,html').animate({\r\n        scrollTop: top\r\n      }, 400);\r\n    }\r\n  })\r\n}\r\n//lazy\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    visibleOnly: true,\r\n    threshold: '1000',\r\n    effect: 'fadeIn',\r\n    effectTime: '300',\r\n    defaultImage: false,\r\n    afterLoad: function() {\r\n      autoHeight();\r\n      $slider.slick('setPosition');\r\n      cover();\r\n    }\r\n  });\r\n}\r\n//tooltips\r\nfunction tooltip() {\r\n  $('.tooltip').tooltipster({\r\n    theme: 'tooltipster-light',\r\n    trigger: 'custom',\r\n    animationDuration: 100,\r\n    trackerInterval: 100,\r\n    triggerOpen: {\r\n      click: true, // For mouse\r\n      touchstart: true, // For touch device\r\n      mouseenter: true // For touch device\r\n    },\r\n    triggerClose: {\r\n      click: true, // For mouse\r\n      touchleave: true, // For touch device\r\n      mouseleave: true // For mouse\r\n    }\r\n  });\r\n}\r\n\r\nfunction slider() {\r\n  $slider.on('init', function () {\r\n    $(this).addClass('slider_visible')\r\n  });\r\n\r\n  $slider.each(function () {\r\n    $(this).on('init reInit afterChange', function(){\r\n      lazy();\r\n    });\r\n    var slideCount = 1,\r\n      slidesPerRow = 1,\r\n      slideCount1200 = 1,\r\n      slidesPerRow1200 = 1,\r\n      slideCount992 = 1,\r\n      slidesPerRow992 = 1,\r\n      slideCount768 = 1,\r\n      slidesPerRow768 = 1,\r\n      slideCount576 = 1,\r\n      slidesPerRow576 = 1,\r\n      slideCount420 = 1,\r\n      slidesPerRow420 = 1,\r\n      rows = 1,\r\n      arrows = false,\r\n      dots = false,\r\n      centerMode = false,\r\n      adaptiveHeight = false;\r\n\r\n    if ($(this).hasClass('slider_dots')) {\r\n      dots = true;\r\n    }\r\n    if ($(this).hasClass('slider_arrows')) {\r\n      arrows = true;\r\n    }\r\n    if ($(this).hasClass('recommendations-slider')) {\r\n      slideCount = 6;\r\n      slideCount1200 = 5;\r\n      slideCount992 = 4;\r\n      slideCount768 = 3;\r\n      slideCount576 = 2;\r\n      slideCount420 = 1;\r\n    }\r\n    if ($(this).hasClass('barbers__slider')) {\r\n      slideCount = 4;\r\n      slideCount1200 = 4;\r\n      slideCount992 = 3;\r\n      slideCount768 = 2;\r\n      slideCount576 = 1;\r\n      slideCount420 = 1;\r\n    }\r\n    if ($(this).hasClass('banner__slider')) {\r\n      centerMode = true;\r\n    }\r\n    if ($(this).hasClass('portfolio__slider')) {\r\n      slidesPerRow = 4;\r\n      rows = 2;\r\n      slidesPerRow1200 = 4;\r\n      slidesPerRow992 = 3;\r\n      slidesPerRow768 = 3;\r\n      slidesPerRow576 = 2;\r\n      slidesPerRow420 = 2;\r\n    }\r\n    if ($(this).hasClass('awards__slider')) {\r\n      slideCount = 5;\r\n      slideCount1200 = 5;\r\n      slideCount992 = 4;\r\n      slideCount768 = 3;\r\n      slideCount576 = 2;\r\n      slideCount420 = 2;\r\n      adaptiveHeight = true;\r\n    }\r\n\r\n    if ($(this).hasClass('publications__slider')) {\r\n      slidesPerRow = 2;\r\n      rows = 2;\r\n      slidesPerRow1200 = 2;\r\n      slidesPerRow992 = 1;\r\n      slidesPerRow768 = 1;\r\n      slidesPerRow576 = 1;\r\n      slidesPerRow420 = 1;\r\n      adaptiveHeight = true;\r\n    }\r\n\r\n    $(this).slick({\r\n      infinite: true,\r\n      dots: dots,\r\n      arrows: arrows,\r\n      speed: 600,\r\n      lazyLoad: 'ondemand',\r\n      adaptiveHeight: adaptiveHeight,\r\n      centerMode: centerMode,\r\n      slidesToShow: slideCount,\r\n      slidesToScroll: slideCount,\r\n      slidesPerRow: slidesPerRow,\r\n      rows: rows,\r\n      responsive: [{\r\n          breakpoint: 1200,\r\n          settings: {\r\n            slidesToShow: slideCount1200,\r\n            slidesToScroll: slideCount1200,\r\n            slidesPerRow: slidesPerRow1200\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 992,\r\n          settings: {\r\n            slidesToShow: slideCount992,\r\n            slidesToScroll: slideCount992,\r\n            slidesPerRow: slidesPerRow992\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 768,\r\n          settings: {\r\n            slidesToShow: slideCount768,\r\n            slidesToScroll: slideCount768,\r\n            slidesPerRow: slidesPerRow768\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 576,\r\n          settings: {\r\n            slidesToShow: slideCount576,\r\n            slidesToScroll: slideCount576,\r\n            slidesPerRow: slidesPerRow576\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 420,\r\n          settings: {\r\n            slidesToShow: slideCount420,\r\n            slidesToScroll: slideCount420,\r\n            slidesPerRow: slidesPerRow420\r\n          }\r\n        }\r\n      ]\r\n    });\r\n  });\r\n  //fix\r\n  $('.publications-slide').parent().css('display', 'flex');\r\n}\r\n//gallery\r\nfunction gallery() {\r\n  var row = $('.gallery__row:not(:first-child)'),\r\n    block = $('.gallery-block'),\r\n    title = $('.gallery-block_title'),\r\n    margin;\r\n\r\n  if (innerWidth > 576) {\r\n    block.css('margin-top', '0');\r\n    row.each(function () {\r\n      margin = -($(this).height() / 2);\r\n      $(this).css('margin-top', margin);\r\n    })\r\n  } else {\r\n    row.css('margin-top', '0');\r\n    block.each(function () {\r\n      margin = -($(this).height() / 2);\r\n      $(this).css('margin-top', margin);\r\n    })\r\n  }\r\n}\r\n//num\r\nfunction showNum() {\r\n  var num = '999-99-99',\r\n    $toggleBtn = $('.number-block__show-btn');\r\n\r\n  $toggleBtn.on('click', function () {\r\n    $(this).parents('.number-block').find('span').text(num);\r\n    $(this).remove();\r\n  })\r\n}\r\n\r\n//share-trigger\r\nfunction share() {\r\n  var $shareTrigger = $('.share-trigger'),\r\n    $shareBlock = $('.share-area'),\r\n    $shareClose = $('.share-area__close'),\r\n    $shareContent = $('.share-area__content'),\r\n    $shareWrap = $('.share-area__wrap'),\r\n    visible,\r\n    interval,\r\n    loaded = false;\r\n\r\n  $shareTrigger.on('click', function (e) {\r\n    e.preventDefault();\r\n    shareOpen();\r\n  })\r\n  $(document).on('click touchstart', function (e) {\r\n    if ($shareClose.is(e.target) || !$shareTrigger.is(e.target) && !$shareBlock.is(e.target) && $shareBlock.has(e.target).length === 0) {\r\n      shareClose();\r\n    }\r\n  });\r\n\r\n\r\n  function shareOpen() {\r\n    $shareBlock.fadeIn(200);\r\n    visible = true;\r\n    pos();\r\n    getSocials();\r\n    resize();\r\n  }\r\n\r\n  function shareClose() {\r\n    $shareBlock.fadeOut(200);\r\n    visible = false;\r\n    resize();\r\n  }\r\n\r\n  function pos() {\r\n    var headerHeight = $('.header').height(),\r\n      scroll = $(window).scrollTop();\r\n\r\n    console.log(scroll, headerHeight)\r\n\r\n    if (scroll < headerHeight) {\r\n      $shareBlock.css({\r\n        'position': 'absolute',\r\n        'top': headerHeight\r\n      });\r\n    } else {\r\n      $shareBlock.css({\r\n        'position': 'fixed',\r\n        'top': '0'\r\n      });\r\n    }\r\n  }\r\n\r\n  function resize() {\r\n    if (visible == true) {\r\n      interval = setInterval(function () {\r\n        $shareContent.width($shareWrap.width());\r\n        $shareContent.height($shareWrap.height());\r\n      }, 50);\r\n    } else {\r\n      clearInterval(interval);\r\n    }\r\n  }\r\n\r\n  function getSocials() {\r\n    if (!loaded) {\r\n      //vk\r\n      $.getScript('https://vk.com/js/api/openapi.js?160', function () {\r\n        VK.init({\r\n          apiId: 6968173,\r\n          onlyWidgets: true\r\n        });\r\n        VK.Widgets.Like(\"vk_like\", {\r\n          type: \"mini\",\r\n          height: 30\r\n        });\r\n      });\r\n      //fb\r\n      $('body').prepend('<script async defer crossorigin=\"anonymous\" src=\"https://connect.facebook.net/ru_RU/sdk.js#xfbml=1&version=v3.3\"></script>');\r\n      //ok\r\n      ! function (d, id, did, st, title, description, image) {\r\n        var js = d.createElement(\"script\");\r\n        js.src = \"https://connect.ok.ru/connect.js\";\r\n        js.onload = js.onreadystatechange = function () {\r\n          if (!this.readyState || this.readyState == \"loaded\" || this.readyState == \"complete\") {\r\n            if (!this.executed) {\r\n              this.executed = true;\r\n              setTimeout(function () {\r\n                OK.CONNECT.insertShareWidget(id, did, st, title, description, image);\r\n              }, 0);\r\n            }\r\n          }\r\n        };\r\n        d.documentElement.appendChild(js);\r\n      }(document, \"ok_shareWidget\", document.URL, '{\"sz\":30,\"st\":\"oval\",\"ck\":1}', \"\", \"\", \"\");\r\n      loaded = true;\r\n    }\r\n  }\r\n\r\n\r\n  $(window).on('scroll resize', function () {\r\n    pos();\r\n  });\r\n}\r\n\r\n//popup\r\nfunction popup() {\r\n\r\n  $(\".popup-link\").fancybox({\r\n    autoFocus: false,\r\n    loop: true\r\n  });\r\n  \r\n  $(\".modal-link\").fancybox({\r\n    autoFocus: false,\r\n    smallBtn: true,\r\n    touch: false\r\n  });\r\n\r\n  $('.gallery__item a').on('click', function() {\r\n    var $selector = $(this).parents('.gallery').find('.slick-slide:not(.slick-cloned) a');\r\n\r\n    $.fancybox.open( $selector, {\r\n        selector : $selector,\r\n        backFocus : false,\r\n        loop: true,\r\n        animationEffect: \"fade\"\r\n    }, $selector.index( this ) );\r\n\r\n    return false;\r\n  });\r\n  \r\n\r\n\r\n  $('body').removeClass('compensate-for-scrollbar');\r\n}\r\n\r\n//корректировка высоты блоков\r\nfunction autoHeight() {\r\n  var $block = $('.js-auto-height__item');\r\n\r\n  $block.css('height', 'auto');\r\n  //корректировка высоты\r\n  $block.parent().each(function() {\r\n    var mh = 0;\r\n    $(this).find($block).each(function () {\r\n      var h_block = parseInt($(this).height());\r\n      if(h_block > mh) {\r\n         mh = h_block;\r\n      };\r\n    });\r\n    $(this).find($block).height(mh);\r\n  })\r\n}\r\n\r\n//check\r\nfunction check() {\r\n  var $checkbox = $('.label');\r\n\r\n  $checkbox.on('click', function() {\r\n    if($(this).children('input').prop('checked')) {\r\n      $(this).addClass('checked');\r\n    } else {\r\n      $(this).removeClass('checked');\r\n    }\r\n  })\r\n}"]}