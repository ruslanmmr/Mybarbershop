{"version":3,"sources":["common.js"],"names":["$","document","ready","lazy","tooltip","nav","slider","gallery","showNum","share","popup","autoHeight","check","fadeInWindows","window","resize","innerWidth","$slider","width","$scroll","scrollbar","cursorcolor","niceScroll","cursorwidth","cursorborder","cursorborderradius","zindex","bouncescroll","autohidemode","$input","$resaultItem","find","$container","$message","createElement","className","innerHTML","inputVal","length","hide","val","toLowerCase","count","each","search","this","text","show","append","remove","getNiceScroll","posY","$window","old","undefined","$btn","el","fadeOut","removeClass","current","addClass","event","preventDefault","target","closest","posX","offset","attr","top","height","left","css","hasClass","right","$nav","$navToggle","toggleClass","navState","$overlay","scrollLock","on","imagesResize","Lazy","effectTime","threshold","imageBase","defaultImage","afterLoad","element","parent","setTimeout","box","imgH","tooltipster","boxH","boxW","triggerOpen","click","theme","touchstart","animationDuration","mouseenter","triggerClose","touchleave","mouseleave","slidesPerRow","slideCount1200","slidesPerRow1200","slideCount992","slidesPerRow992","slideCount768","slidesPerRow768","slideCount576","slidesPerRow576","slideCount420","slidesPerRow420","rows","arrows","dots","centerMode","adaptiveHeight","slideCount","speed","lazyLoad","slick","infinite","slidesToShow","slidesToScroll","responsive","breakpoint","settings","margin","row","block","$toggleBtn","parents","visible","interval","$shareTrigger","$shareBlock","$shareClose","$shareContent","$shareWrap","loaded","headerHeight","scroll","scrollTop","position","setInterval","clearInterval","e","d","src","fadeIn","pos","getSocials","VK","apiId","onlyWidgets","type","Like","prepend","appendChild","URL","js","onload","onreadystatechange","readyState","executed","OK","CONNECT","insertShareWidget","documentElement","did","is","has","autoFocus","fancybox","loop","smallBtn","touch","selector","$selector","backFocus","animationEffect","index","mh","$block","h_block","parseInt","children","prop"],"mappings":"aAAAA,EAAEC,UAAUC,MAAM,WAChBC,OADAF,UACAE,MACAC,SACAC,UACAC,UACAC,QACAC,QACAC,aACAC,QACAC,gBACAC,YACAC,eAGDb,EAdDc,QAAAC,OAAA,WAgBED,WAAQC,EAAO,QAAAC,aACfA,UACAT,aACAI,EAAAA,OAAAA,KAAU,gBAOZ,IACIM,WAAYjB,EAAA,YADhBkB,QAEIC,QAAUnB,EAAE,WAAZmB,QAAUnB,EAAE,gBAGdA,SAAEoB,YACAC,EAAAA,gBAAaC,WADc,CAE3BC,YAAa,OACbC,YAAY,MACZC,aAAAA,IACAC,mBAL2B,IAM3BC,OAAAA,CAAAA,KACAC,cAAc,EAPhBA,cAAA,IAaA,SAAIC,aAAJ,IACIC,EAAAA,EAAAA,eAAiBC,KAAF,UACfC,EAAehC,EAAA,eAAe+B,KAAK,uBACnCE,EAAWhC,EAAAA,eAASiC,KAAc,uBAEtCD,EAASE,SAAYD,cAAA,MAArBD,EAASE,UAAY,qBAIrBN,EAAAO,UAAmB,sCAGjBP,EAAGQ,GAAAA,QAASC,WACVR,IAAAA,EAAaS,EAAbC,MAAAC,cAEAX,GAAkB,GAAlBA,EAAAA,OAAkB,CAChBA,EAAWS,OAFb,IAAIG,EAAQ,EAGVZ,EAAUa,KAACC,YAET,IADK5C,EAAA6C,MAAAd,KAAA,KAAAe,OAAAL,cACGM,OAARV,KACDK,IALH1C,EAAA6C,MAAAE,UAQEf,GAAAA,EADFA,EAEOgB,OAAAf,GAENA,EAAAgB,cAKFhB,EAAAgB,SADCnB,EAAaiB,OArBjB5B,QAAA+B,gBAAAnC,WA6BA,SAAIoC,gBAGJ,IAAIC,EACFC,EAEEd,EAAM,CACJvC,IAAC,CACDA,QAAEsD,EACFC,KAAI,WACLvD,EAAA6C,KAAAW,IAAAC,QAAA,KAPSzD,EAAA6C,KAAAW,IAAAE,YAAA,UASZC,EAASH,GAAAE,YAAA,YAGL1D,QAAE,CACFA,QAAEsD,EACFC,KAAI,WALCvD,EAAA6C,KAAAW,IAAAC,QAAA,KAOPV,EAAIF,KAAEW,IAAAE,YAAW,UACf1D,EAAEwD,GAAKA,YAAW,WAElBD,KAAI,WACJpC,EAAAA,KAAOqC,IAACN,OAAAA,KACRE,EAAAA,KAAOI,IAAPI,SAAiBR,UAClBG,EAAAI,QAAAH,GAAAI,SAAA,UAbMzC,QAAA+B,gBAAAnC,SATXqC,EAAAC,IAAAG,GAAAJ,EAAAO,QAAAH,MA4BEG,EAAS,CACPH,UAAIF,mBADGE,GAAAxD,EAAA,qBAHX2D,QAAA,CAQE1D,QAAAA,IAKI4D,EAAAA,UAAMC,GAAAA,sCAAN,SAAAD,GAFyC,EAA1C7D,EAAE6D,EAAME,QAAQC,QAAQT,EAAKC,IAAIlB,OAM7BtB,SAAH6C,EAAG7C,OACDmC,EAAIW,iBACJG,EAAAA,QAAOjD,GAAAA,EAAU6C,EAAIN,QAAKI,QAAWO,EAAhBV,IACtBJ,EAAMO,QAAAH,GAAAxD,EAAAuD,EAAAI,QAAAH,GAAAW,KAAA,SADLF,EAGA,KAAAA,YACDd,EAAAI,EAAAI,QAAAH,GAAAU,SAAAE,IAAAb,EAAAI,QAAAH,GAAAa,SAAA,EAJQrD,YAAcuC,EAAKI,QAAQH,GAAGU,SAASI,KAAOf,EAAKI,QAAQH,GAAGtC,SAAW,IAM1DiC,EAAMA,EAAAA,WAAPkB,SAAa,GAEpCjB,EAAGA,QAAQO,GAARY,IAAmBC,CAAAA,IAAAA,EAASC,MAAWR,IAA1Cb,EAEOO,QAAAH,GAAAgB,SAAA,UACLpB,EAAGA,QAAYI,aAEdF,IAAAF,EAAAC,IAAAG,IAAAJ,EAAAC,IAAAG,GAAAgB,SAAA,WADCpB,EAAQC,IAAId,OAGfa,EAAAO,QAAAZ,cAKJO,IAAAF,EAAAO,QAAAH,IAAAJ,EAAAO,QAAAH,GAAAgB,SAAA,WAAA,GAAAxE,EAAA6D,EAAAE,QAAAC,QAAAZ,EAAAO,QAAAH,IAAAlB,QA/BHc,EAAAO,QAAApB,SAsCA,SAEEmC,MAEFC,IAAAA,EAAc3E,EAAA,mCACZ6D,EAAMC,EAAAA,YACNY,EAAKE,EAAAA,QAcJ,SAAMC,IACLC,EAAAA,SAAA,WACAC,EAAAA,OAAgB/E,KAChBA,WAAW0D,KAAAA,EAAAA,SACZ1D,EAAA,SAAA4D,SAAA,gBAHCkB,EAASrB,QAAQ,KAMnB3C,WAAQC,KAAOf,EAAA,SACfA,EAAIgB,SAAAA,YAAmB,eApBxB2D,EAJDK,GAAA,QAAA,SAAAnB,GAMAiB,EAAQhB,iBACNY,EAAKhB,YAAY,UACjBmB,MAGFC,EAASD,GAAAA,mBAAW,WAClBH,EAAIA,YAAA,UACFI,MAeH9E,EALDc,QAAAC,OAAA,WAOA,KAAAC,aALI0D,EAAKhB,YAAY,UACjBmB,OAwCAI,SAAAA,OACDjF,EAAA,SAAAkF,KAAA,CAPHC,WAAA,EASDC,UAAA,IANGC,WAAW,EAOfC,cAASL,EACPM,UAAUC,SAAQC,GALdR,aAAaO,MAWfE,SAAAA,aAAWF,GACT,IAAAG,EAAIC,EAAOJ,SALf,GAAIG,EAAInB,SAAS,uBAsBfgB,EAAA5B,SAAYiC,eAtB2B,CAQrC,IAAAC,EAASH,EAAGG,SACVN,EAAOG,EAAC/B,QAER4B,WAAO,WACR,IAAAI,EAAAJ,EAAAnB,SANUmB,EAAQtE,QAFrB0E,GAAAG,EAAAD,EAJFN,EAeO5B,SAAA,MAAAF,YAAA,MAEN8B,EAAA5B,SAAA,MAAAF,YAAA,MAJG8B,EAAQ5B,SAAS,YAChB,MAaHoC,SAAAA,UACEC,EAAAA,YAAOJ,YADI,CACEK,MAAA,oBACbC,QAAAA,SAAkBC,kBAAA,IAClBC,gBAAY,IAHdL,YAAa,CALWC,OAAA,EAUxBK,YAAc,EACZL,YADY,GAEZM,aAAY,CAAMN,OAAA,EAClBO,YAAY,EAAZA,YAAY,KAKlB,SAASlG,SACPW,QAAQ+D,GAAG,OAAQ,WACjBhF,EAAE6C,MAAMe,SAAS,oBAIjB5D,QAAC2C,KAAU,WACTxC,EAAAA,MAAI6E,GAAA,gCAAA,WADN7E,SAGA,IACEsG,EAAY,EADdA,EAEEC,EAFFA,EAGEC,EAHFA,EAAA,EAAAC,EAKEC,EALFA,EAMkB,EANlBC,EAOEC,EAPFA,EAQkB,EARlBC,EASEC,EATFA,EAUkB,EAVlBC,EAWEC,EAXFA,EAAA,EAAAC,EAaEC,EAbFA,GAcS,EAdTC,GAeEC,EAfFA,GAgBEC,EAAAA,GAAiB,EAGjBF,EAAIzE,MAAG2B,SAAP,iBACD8C,GAAA,GACGtH,EAAE6C,MAAM2B,SAAS,mBACnB6C,GAAS,GAEPrH,EAAE6C,MAAM2B,SAAS,4BAArBiD,EAAYjD,EACViD,EAAA,EACAf,EAAc,EACdE,EAAgB,EAChBE,EAAgB,EAChBE,EAAgB,GAEjBhH,EAAA6C,MAAA2B,SAAA,qBACDkC,EACEe,EAAa,EAAbA,EAAA,EACAf,EAAc,EAEdI,EADAF,EAAgB,GAGhBM,EAAAA,MAAAA,SAAA,oBACDK,GAAA,GACGvH,EAAE6C,MAAM2B,SAAS,uBAMnBmC,EALAY,EAAa,EAGbd,EADFI,EAAI,EAGFF,EADAS,EAHDA,EAAA,GAMCL,EAAAA,MAAAA,SAAA,oBAEAI,EADAF,EAAAA,EAEDL,EAAA,EAKCE,EAAgB,EAHhBW,EADFT,EAAYxC,EAEVkC,GAAiB,GAGjBM,EAAAA,MAAAA,SAAA,0BAGDL,EADCa,EADAN,EAAa,EAMbE,EADAX,EADFM,EAIEF,EAAkB,EADlBF,GAAgB,GAGhBM,EAAAA,MAAAA,MAAAA,CACAE,UAAAA,EACAK,KAAAA,EACDH,OAAAA,EAMCK,MAAO,IAJPC,SAAMC,WACNC,eADYL,EAEZF,WAFYC,EAGZF,aAHYI,EAIZC,eAJYD,EAKZE,aAAUlB,EACVe,KAAAA,EACAD,WAAYA,CAAAA,CACZO,WAAcL,KACdM,SAAc,CACdtB,aAAcA,EACRW,eAXMV,EAYZsB,aAAarB,IAGPmB,CACAC,WAAAA,IACAtB,SAAAA,CAHQqB,aAAAlB,EAMZmB,eAAAnB,EACEqB,aADFpB,IAIIkB,CACAtB,WAAY,IAHJyB,SAAA,CAMZJ,aAAAhB,EACEmB,eADFnB,EAEEoB,aAAUnB,IAGRN,CAHQwB,WAAA,IAMZC,SAAA,CACED,aADFjB,EAEEkB,eAAUlB,EACRc,aAAcd,IADN,CAMZiB,WAAA,IACEA,SAAY,CACZC,aAAUhB,EACRY,eAAcZ,EACda,aAAgBb,SAQ1BlH,EAAE,uBAAuByF,SAASlB,IAAI,UAAW,QAGnD,SAAShE,UAAT,IACE4H,EADFC,EAAS7H,EAAAA,mCACP8H,EAAUrI,EAAE,kBACLA,EAAGA,wBAIO,IAAbgB,YAAJqH,EAAIrH,IAAAA,aAAkB,KACpBqH,EAAAA,KAAA,WACAD,GAASpI,EAAA6C,MAAYwB,SAAA,EACnB8D,EAAAA,MAAM5D,IAAM,aAAD4D,OAHfC,EAAA7D,IAMO,aAAA,KACL6D,EAAI7D,KAAI,WACR8D,GAAWrI,EAAA6C,MAAAwB,SAAY,EACrB8D,EAAAA,MAAM5D,IAAM,aAAD4D,MAMjB,SAAS3H,UAATR,EAAmB,2BAEfsI,GAAU,QAAK,WAEjBA,EAAAA,MAAUC,QAAI,iBAAqBxG,KAAA,QAAAe,KAHzB,aAIR9C,EAAE6C,MAAM0F,WAMZ,SAAS9H,QAAT,IACE+H,EAAAC,EADFC,EAAiB1I,EAAA,kBACf2I,EAAID,EAAa,eAAjBE,EACa5I,EAAGA,sBADhB6I,EAEgB7I,EAAE,wBAFlB8I,EAGED,EAAa,qBAHfE,GAMEN,EA6BA,SAAIO,IAAJ,IACEC,EAAWnI,EAAD,WAADuD,SAAArE,EAAEc,QAAQoI,YAGRF,EACTL,EAAApE,IAAY,CACZ4E,SAAOH,WAFT5E,IAAA4E,IAMEL,EAAApE,IAAY,CACZ4E,SAAO,QAFT/E,IAAA,MAQF,SAAIoE,IACSY,GAAXX,EACEI,EAAAA,YAAoBC,WACpBD,EAAcxE,MAAdyE,EAA+B5H,SAFX2H,EAAtBxE,OAAAyE,EAAAzE,WADF,IAOCgF,cAAAZ,GAlDHC,EAAc1D,GAAG,QAAS,SAAUsE,GAYlCX,IA0DcY,EAACrH,EACRsH,EAtEPF,EAAExF,iBAYF0E,EAAUiB,OAAV,KACAC,GAAG,EACHC,IAwCEZ,IAEEa,EAAAA,UAAQ,uCAAA,WACNC,GAAAA,KAAK,CACLC,MAAAA,QAFFA,aAAA,IAKEC,GAAAA,QAAMC,KADmB,UAAA,CAEzB3F,KAAM,OAFRA,OAAA,OAMFrE,EAAE,QAAQiK,QAAQ,+HAGNV,EAYVA,SAZWrH,EAYOgI,SAAlBC,KAXGX,EAAMD,EAAArH,cAAA,WAANsH,IAAM,mCACTY,EAAGC,OAASD,EAAGE,mBAAqB,WAC7BzH,KAAK0H,YAAiC,UAAnB1H,KAAK0H,YAA6C,YAAnB1H,KAAK0H,YACrD1H,KAAK2H,WACR3H,KAAK2H,UAAW,EAChB9E,WAAW,WACT+E,GAAGC,QAAQC,kBAKjBC,iBALuCC,EAKzC,+BAAA,GAAA,GAAA,KAJS,KAITtB,EAAEqB,gBAAgBV,YAAYE,GAC/BrB,GAAC9I,GAlELc,MAbDf,EAAEC,UAAU+E,GAAG,mBAAoB,SAAUsE,IACvCV,EAAYkC,GAAGxB,EAAEvF,UAAY2E,EAAcoC,GAAGxB,EAAEvF,UAAY4E,EAAYmC,GAAGxB,EAAEvF,SAAgD,IAArC4E,EAAYoC,IAAIzB,EAAEvF,QAAQzB,UAgBtHkG,EAAU/E,QAAV,KACA1C,GAAM,EACPA,OAkEDf,EAAEc,QAAQkE,GAAG,gBAAiB,WAC5B0E,MAKJ,SAAShJ,QAGLsK,EAAAA,eAAWC,SADa,CAExBC,WAAM,EAFRA,MAAA,IAOEC,EAAAA,eAFwBF,SAAA,CAGxBG,WAAO,EAHTD,UAAA,EAMEC,OAAA,IAIIC,EAAAA,oBAAWC,GADa,QAAA,WAExBC,IAAAA,EAAYvL,EAFY6C,MAAA0F,QAAA,YAAAxG,KAAA,qCAYhC,OARQyJ,EAAAA,SAAAA,KAAeF,EAAE,CAClBA,SAAUG,EAEbF,WAAA,EAVFL,MAAA,EAcFM,gBAAA,QANOF,EAAUG,MAAO5I,QAOflC,IAML,SAAI+K,aACJ1L,IAAE2L,EAAM5J,EAAK4J,yBAJfA,EAAOpH,IAAI,SAAU,QAOdmH,EAAAA,SAAKE,KAAL,WACF,IAAAF,EAAA,EAJH1L,EAAE6C,MAAMd,KAAK4J,GAAQhJ,KAAK,WAIvB,IAAAiJ,EAAAC,SAAA7L,EAAA6C,MAAAwB,UAJHqH,EAAAE,IAMEF,EAAM3J,KAAR/B,EAAE6C,MAAMd,KAAK4J,GAAQtH,OAAOqH,KAS5B,SAAI9K,QACMgD,EAAAA,UAEPoB,GAAOtB,QAAAA,WACT1D,EAAA6C,MAAAiJ,SAAA,SAAAC,KAAA,WALH/L,EAAA6C,MAAAe,SAAA,WAII5D,EAAE6C,MAAMa,YAAY","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\r\n  lazy();\r\n  tooltip();\r\n  nav();\r\n  slider();\r\n  gallery();\r\n  showNum();\r\n  share();\r\n  popup();\r\n  autoHeight();\r\n  check();\r\n  fadeInWindows();\r\n  scrollbar();\r\n  searchCity()\r\n});\r\n\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n  gallery();\r\n  autoHeight();\r\n  $('img').each(function() {\r\n    //imagesResize($(this))\r\n  });\r\n});\r\n\r\n//global variables\r\nlet innerWidth = $('.wrapper').width(),\r\n    $slider = $('.slider'),\r\n    $scroll = $('.scroll-area');\r\n\r\nfunction scrollbar() {\r\n  $('.scroll-area').niceScroll({\r\n    cursorcolor: \"#fff\",\r\n    cursorwidth: \"5px\",\r\n    cursorborder: \"0\",\r\n    cursorborderradius: \"0\",\r\n    zindex: [100],\r\n    bouncescroll: false,\r\n    autohidemode: false\r\n  });\r\n}\r\n\r\n//поиск\r\nfunction searchCity() {\r\n  let $input = $('#windowCity').find('.input'),\r\n      $resaultItem = $('#windowCity').find('.popup-window__item'),\r\n      $container = $('#windowCity').find('.popup-window__list'),\r\n      $message = document.createElement('li');\r\n\r\n  $message.className = 'popup-window__item';\r\n  $message.innerHTML = '<span>Совпадений не найдено!</span>';\r\n\r\n  //события\r\n  $input.on('input', function() {\r\n    let inputVal = $input.val().toLowerCase();\r\n\r\n    if(inputVal.length >= 1) {\r\n      $resaultItem.hide();\r\n      let count = 0;\r\n      $resaultItem.each(function() {\r\n        let itemVal = $(this).find('a').text().toLowerCase();\r\n        if(itemVal.search(inputVal) !== -1) {\r\n          count++;\r\n          $(this).show();\r\n        }\r\n      })\r\n      if(count==0) {\r\n        $container.append($message);\r\n      } else {\r\n        $message.remove();\r\n      }\r\n    } \r\n    else {\r\n      $message.remove();\r\n      $resaultItem.show();\r\n    }\r\n    $scroll.getNiceScroll().resize();\r\n  });\r\n}\r\n\r\n//всплывающие окна\r\nfunction fadeInWindows() {\r\n  let posY,\r\n      posX;\r\n  \r\n  let $window = {\r\n    old: {\r\n      el: undefined,\r\n      hide: function(){\r\n        $(this.el).fadeOut(200);\r\n        $(this.el).removeClass('active');\r\n        $btn.el.removeClass('active');\r\n      }\r\n    },\r\n    current: {\r\n      el: undefined,\r\n      hide: function() {\r\n        $(this.el).fadeOut(200);\r\n        $(this.el).removeClass('active');\r\n        $btn.el.removeClass('active');\r\n      },\r\n      show: function() {\r\n        $(this.el).fadeIn(200);\r\n        $(this.el).addClass('active');\r\n        $btn.current.el.addClass('active');\r\n        $scroll.getNiceScroll().resize();\r\n        $window.old.el = $window.current.el;\r\n      }\r\n    }\r\n  };\r\n  let $btn = {\r\n    className: 'windowOpenButton',\r\n    el: $('.windowOpenButton'),\r\n    current: {\r\n      el: undefined\r\n    }\r\n  }\r\n\r\n  $(document).on('click touchstart mousedown touchend', function(event) {\r\n\r\n    //function\r\n    if($(event.target).closest($btn.el).length > 0) {\r\n      if(event.type=='click') {\r\n        event.preventDefault();\r\n        $btn.current.el = $(event.target).closest($btn.el);\r\n        $window.current.el = $($btn.current.el.attr('href'));\r\n\r\n        if(innerWidth>1024) { \r\n          posY = $btn.current.el.offset().top + $btn.current.el.height() + 2;\r\n          posX = innerWidth - ($btn.current.el.offset().left + $btn.current.el.width()) + 4;\r\n        } else {\r\n          posY = $('.header').height();\r\n          posX = 0;\r\n        }\r\n\r\n        $window.current.el.css({'top':posY, 'right':posX});\r\n\r\n        if($window.current.el.hasClass('active')) {\r\n          $window.current.hide();\r\n        } else {\r\n          if($window.old.el!==undefined && $window.old.el.hasClass('active')) {\r\n            $window.old.hide();\r\n          }\r\n          $window.current.show();\r\n        }\r\n      } \r\n    } \r\n    else if($window.current.el!==undefined && $window.current.el.hasClass('active') && $(event.target).closest($window.current.el).length == 0) {\r\n      $window.current.hide();\r\n    }\r\n  })\r\n}\r\n\r\n\r\n//nav\r\nfunction nav() {\r\n  var $navToggle = $('.sub-nav__nav-open, .nav__close'),\r\n    $overlay = $('.overlay'),\r\n    $nav = $('.nav');\r\n\r\n  $navToggle.on('click', function (event) {\r\n    event.preventDefault();\r\n    $nav.toggleClass('active');\r\n    navState();\r\n  })\r\n  \r\n  $overlay.on('click touchstart', function () {\r\n    $nav.removeClass('active');\r\n    navState();\r\n  })\r\n\r\n  function navState() {\r\n    if ($nav.hasClass('active')) {\r\n      $overlay.fadeIn(300);\r\n      scrollLock.hide($(\"body\"));\r\n      $('.page').addClass('page_fixed');\r\n    } else {\r\n      $overlay.fadeOut(300);\r\n      scrollLock.show($(\"body\"));\r\n      $('.page').removeClass('page_fixed');\r\n    }\r\n  }\r\n\r\n  $(window).resize(function () {\r\n    if (innerWidth > 1024) {\r\n      $nav.removeClass('active');\r\n      navState();\r\n    }\r\n  });\r\n\r\n  /* navLink.on('click', function () {\r\n    if (innerWidth < 993) {\r\n      $nav.removeClass('nav_active');\r\n      navState();\r\n    }\r\n  }) */\r\n\r\n  /* //якорные ссылки\r\n  scrollLink.click(function (event) {\r\n    var id = $(this).attr('href'),\r\n      top = $(id).offset().top;\r\n    event.preventDefault();\r\n\r\n    if (innerWidth < 993) {\r\n      $nav.removeClass('nav_active');\r\n      navState();\r\n      setTimeout(function () {\r\n        $('body,html').animate({\r\n          scrollTop: top\r\n        }, 400);\r\n      }, 300)\r\n    } else {\r\n      $('body,html').animate({\r\n        scrollTop: top\r\n      }, 400);\r\n    }\r\n  }) */\r\n}\r\n\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    effectTime: 0,\r\n    threshold: 500,\r\n    imageBase: false,\r\n    defaultImage: false,\r\n    afterLoad: function(element) {\r\n      imagesResize(element);\r\n    }\r\n  });\r\n}\r\nfunction imagesResize(element) {\r\n  let box = element.parent();\r\n\r\n  if(!box.hasClass('cover-box_size-auto')) {\r\n    let boxH = box.height(),\r\n        boxW = box.width();\r\n\r\n    setTimeout(function() {\r\n      let imgH = element.height(),\r\n          imgW = element.width();\r\n\r\n      if ((boxW / boxH) >= (imgW / imgH)) {\r\n        element.addClass('ww').removeClass('wh');\r\n      } else {\r\n        element.addClass('wh').removeClass('ww');\r\n      }\r\n      element.addClass('visible');\r\n    }, 100)\r\n  } else {\r\n    element.addClass('visible');\r\n  }\r\n}\r\n\r\n//tooltips\r\nfunction tooltip() {\r\n  $('.tooltip').tooltipster({\r\n    theme: 'tooltipster-light',\r\n    trigger: 'custom',\r\n    animationDuration: 100,\r\n    trackerInterval: 100,\r\n    triggerOpen: {\r\n      click: true, // For mouse\r\n      touchstart: true, // For touch device\r\n      mouseenter: true // For touch device\r\n    },\r\n    triggerClose: {\r\n      click: true, // For mouse\r\n      touchleave: true, // For touch device\r\n      mouseleave: true // For mouse\r\n    }\r\n  });\r\n}\r\n\r\nfunction slider() {\r\n  $slider.on('init', function () {\r\n    $(this).addClass('slider_visible')\r\n  });\r\n\r\n  $slider.each(function () {\r\n    $(this).on('init beforeChange afterChange', function(){\r\n      lazy();\r\n    });\r\n    var slideCount = 1,\r\n      slidesPerRow = 1,\r\n      slideCount1200 = 1,\r\n      slidesPerRow1200 = 1,\r\n      slideCount992 = 1,\r\n      slidesPerRow992 = 1,\r\n      slideCount768 = 1,\r\n      slidesPerRow768 = 1,\r\n      slideCount576 = 1,\r\n      slidesPerRow576 = 1,\r\n      slideCount420 = 1,\r\n      slidesPerRow420 = 1,\r\n      rows = 1,\r\n      arrows = false,\r\n      dots = false,\r\n      centerMode = false,\r\n      adaptiveHeight = false;\r\n\r\n    if ($(this).hasClass('slider_dots')) {\r\n      dots = true;\r\n    }\r\n    if ($(this).hasClass('slider_arrows')) {\r\n      arrows = true;\r\n    }\r\n    if ($(this).hasClass('recommendations-slider')) {\r\n      slideCount = 6;\r\n      slideCount1200 = 5;\r\n      slideCount992 = 4;\r\n      slideCount768 = 3;\r\n      slideCount576 = 2;\r\n      slideCount420 = 1;\r\n    }\r\n    if ($(this).hasClass('barbers__slider')) {\r\n      slideCount = 4;\r\n      slideCount1200 = 4;\r\n      slideCount992 = 3;\r\n      slideCount768 = 2;\r\n      slideCount576 = 1;\r\n      slideCount420 = 1;\r\n    }\r\n    if ($(this).hasClass('banner__slider')) {\r\n      centerMode = true;\r\n    }\r\n    if ($(this).hasClass('portfolio__slider')) {\r\n      slidesPerRow = 4;\r\n      rows = 2;\r\n      slidesPerRow1200 = 4;\r\n      slidesPerRow992 = 3;\r\n      slidesPerRow768 = 3;\r\n      slidesPerRow576 = 2;\r\n      slidesPerRow420 = 2;\r\n    }\r\n    if ($(this).hasClass('awards__slider')) {\r\n      slideCount = 5;\r\n      slideCount1200 = 5;\r\n      slideCount992 = 4;\r\n      slideCount768 = 3;\r\n      slideCount576 = 2;\r\n      slideCount420 = 2;\r\n      adaptiveHeight = true;\r\n    }\r\n\r\n    if ($(this).hasClass('publications__slider')) {\r\n      slidesPerRow = 2;\r\n      rows = 2;\r\n      slidesPerRow1200 = 2;\r\n      slidesPerRow992 = 1;\r\n      slidesPerRow768 = 1;\r\n      slidesPerRow576 = 1;\r\n      slidesPerRow420 = 1;\r\n      adaptiveHeight = true;\r\n    }\r\n\r\n    $(this).slick({\r\n      infinite: true,\r\n      dots: dots,\r\n      arrows: arrows,\r\n      speed: 600,\r\n      lazyLoad: 'ondemand',\r\n      adaptiveHeight: adaptiveHeight,\r\n      centerMode: centerMode,\r\n      slidesToShow: slideCount,\r\n      slidesToScroll: slideCount,\r\n      slidesPerRow: slidesPerRow,\r\n      rows: rows,\r\n      responsive: [{\r\n          breakpoint: 1200,\r\n          settings: {\r\n            slidesToShow: slideCount1200,\r\n            slidesToScroll: slideCount1200,\r\n            slidesPerRow: slidesPerRow1200\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 992,\r\n          settings: {\r\n            slidesToShow: slideCount992,\r\n            slidesToScroll: slideCount992,\r\n            slidesPerRow: slidesPerRow992\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 768,\r\n          settings: {\r\n            slidesToShow: slideCount768,\r\n            slidesToScroll: slideCount768,\r\n            slidesPerRow: slidesPerRow768\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 576,\r\n          settings: {\r\n            slidesToShow: slideCount576,\r\n            slidesToScroll: slideCount576,\r\n            slidesPerRow: slidesPerRow576\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 420,\r\n          settings: {\r\n            slidesToShow: slideCount420,\r\n            slidesToScroll: slideCount420,\r\n            slidesPerRow: slidesPerRow420\r\n          }\r\n        }\r\n      ]\r\n    });\r\n  });\r\n  //fix\r\n  $('.publications-slide').parent().css('display', 'flex');\r\n}\r\n//gallery\r\nfunction gallery() {\r\n  var row = $('.gallery__row:not(:first-child)'),\r\n    block = $('.gallery-block'),\r\n    title = $('.gallery-block_title'),\r\n    margin;\r\n\r\n  if (innerWidth > 576) {\r\n    block.css('margin-top', '0');\r\n    row.each(function () {\r\n      margin = -($(this).height() / 2);\r\n      $(this).css('margin-top', margin);\r\n    })\r\n  } else {\r\n    row.css('margin-top', '0');\r\n    block.each(function () {\r\n      margin = -($(this).height() / 2);\r\n      $(this).css('margin-top', margin);\r\n    })\r\n  }\r\n}\r\n//num\r\nfunction showNum() {\r\n  var num = '999-99-99',\r\n    $toggleBtn = $('.number-block__show-btn');\r\n\r\n  $toggleBtn.on('click', function () {\r\n    $(this).parents('.number-block').find('span').text(num);\r\n    $(this).remove();\r\n  })\r\n}\r\n\r\n//share-trigger\r\nfunction share() {\r\n  var $shareTrigger = $('.share-trigger'),\r\n    $shareBlock = $('.share-area'),\r\n    $shareClose = $('.share-area__close'),\r\n    $shareContent = $('.share-area__content'),\r\n    $shareWrap = $('.share-area__wrap'),\r\n    visible,\r\n    interval,\r\n    loaded = false;\r\n\r\n  $shareTrigger.on('click', function (e) {\r\n    e.preventDefault();\r\n    shareOpen();\r\n  })\r\n  $(document).on('click touchstart', function (e) {\r\n    if ($shareClose.is(e.target) || !$shareTrigger.is(e.target) && !$shareBlock.is(e.target) && $shareBlock.has(e.target).length === 0) {\r\n      shareClose();\r\n    }\r\n  });\r\n\r\n\r\n  function shareOpen() {\r\n    $shareBlock.fadeIn(200);\r\n    visible = true;\r\n    pos();\r\n    getSocials();\r\n    resize();\r\n  }\r\n\r\n  function shareClose() {\r\n    $shareBlock.fadeOut(200);\r\n    visible = false;\r\n    resize();\r\n  }\r\n\r\n  function pos() {\r\n    var headerHeight = $('.header').height(),\r\n      scroll = $(window).scrollTop();\r\n\r\n    if (scroll < headerHeight) {\r\n      $shareBlock.css({\r\n        'position': 'absolute',\r\n        'top': headerHeight\r\n      });\r\n    } else {\r\n      $shareBlock.css({\r\n        'position': 'fixed',\r\n        'top': '0'\r\n      });\r\n    }\r\n  }\r\n\r\n  function resize() {\r\n    if (visible == true) {\r\n      interval = setInterval(function () {\r\n        $shareContent.width($shareWrap.width());\r\n        $shareContent.height($shareWrap.height());\r\n      }, 50);\r\n    } else {\r\n      clearInterval(interval);\r\n    }\r\n  }\r\n\r\n  function getSocials() {\r\n    if (!loaded) {\r\n      //vk\r\n      $.getScript('https://vk.com/js/api/openapi.js?160', function () {\r\n        VK.init({\r\n          apiId: 6968173,\r\n          onlyWidgets: true\r\n        });\r\n        VK.Widgets.Like(\"vk_like\", {\r\n          type: \"mini\",\r\n          height: 30\r\n        });\r\n      });\r\n      //fb\r\n      $('body').prepend('<script async defer crossorigin=\"anonymous\" src=\"https://connect.facebook.net/ru_RU/sdk.js#xfbml=1&version=v3.3\"></script>');\r\n      //ok\r\n      ! function (d, id, did, st, title, description, image) {\r\n        var js = d.createElement(\"script\");\r\n        js.src = \"https://connect.ok.ru/connect.js\";\r\n        js.onload = js.onreadystatechange = function () {\r\n          if (!this.readyState || this.readyState == \"loaded\" || this.readyState == \"complete\") {\r\n            if (!this.executed) {\r\n              this.executed = true;\r\n              setTimeout(function () {\r\n                OK.CONNECT.insertShareWidget(id, did, st, title, description, image);\r\n              }, 0);\r\n            }\r\n          }\r\n        };\r\n        d.documentElement.appendChild(js);\r\n      }(document, \"ok_shareWidget\", document.URL, '{\"sz\":30,\"st\":\"oval\",\"ck\":1}', \"\", \"\", \"\");\r\n      loaded = true;\r\n    }\r\n  }\r\n\r\n\r\n  $(window).on('scroll resize', function () {\r\n    pos();\r\n  });\r\n}\r\n\r\n//popup\r\nfunction popup() {\r\n\r\n  $(\".popup-link\").fancybox({\r\n    autoFocus: false,\r\n    loop: true\r\n  });\r\n  \r\n  $(\".modal-link\").fancybox({\r\n    autoFocus: false,\r\n    smallBtn: true,\r\n    touch: false\r\n  });\r\n\r\n  $('.gallery__item a').on('click', function() {\r\n    var $selector = $(this).parents('.gallery').find('.slick-slide:not(.slick-cloned) a');\r\n\r\n    $.fancybox.open( $selector, {\r\n        selector : $selector,\r\n        backFocus : false,\r\n        loop: true,\r\n        animationEffect: \"fade\"\r\n    }, $selector.index( this ) );\r\n\r\n    return false;\r\n  });\r\n}\r\n\r\n//корректировка высоты блоков\r\nfunction autoHeight() {\r\n  var $block = $('.js-auto-height__item');\r\n\r\n  $block.css('height', 'auto');\r\n  //корректировка высоты\r\n  $block.parent().each(function() {\r\n    var mh = 0;\r\n    $(this).find($block).each(function () {\r\n      var h_block = parseInt($(this).height());\r\n      if(h_block > mh) {\r\n         mh = h_block;\r\n      };\r\n    });\r\n    $(this).find($block).height(mh);\r\n  })\r\n}\r\n\r\n//check\r\nfunction check() {\r\n  var $checkbox = $('.label');\r\n\r\n  $checkbox.on('click', function() {\r\n    if($(this).children('input').prop('checked')) {\r\n      $(this).addClass('checked');\r\n    } else {\r\n      $(this).removeClass('checked');\r\n    }\r\n  })\r\n}"]}