{"version":3,"sources":["common.js"],"names":["$","document","ready","lazy","tooltip","nav","cityBlock","slider","gallery","cover","showNum","share","autoHeight","innerWidth","window","cursorcolorVar","cursorborderVar","cursorborderradiusVar","zindexVar","bouncescrollVar","inputVal","state","flag","openbutton","textInput","list","scrollStart","scrollTop","scrollEnd","item","falseText","toggleClass","hasClass","addClass","val","searchCity","fadeIn","cursorwidth","cursorwidthVar","cursorborder","cursorborderradius","zindex","bouncescroll","autohidemode","getNiceScroll","resize","removeClass","fadeOut","toLowerCase","attr","search","value","length","on","e","setTimeout","toggleModal","is","target","has","children","scroll","th","this","height","tw","width","im","ih","each","$navToggle","$overlay","$nav","overlay","scrollLink","event","preventDefault","navState","scrollLock","top","id","offset","animate","Lazy","visibleOnly","threshold","defaultImage","afterLoad","$slider","slick","effect","tooltipster","effectTime","touchstart","mouseenter","triggerClose","click","touchleave","mouseleave","triggerOpen","slidesPerRow","slidesPerRow1200","slidesPerRow992","slideCount768","slidesPerRow768","slideCount576","slidesPerRow576","slideCount420","rows","arrows","centerMode","slideCount","dots","slideCount992","slideCount1200","slidesPerRow420","infinite","adaptiveHeight","responsive","breakpoint","slidesToShow","settings","speed","lazyLoad","slidesToScroll","parent","css","margin","row","block","find","text","visible","interval","$shareWrap","loaded","shareClose","headerHeight","console","shareOpen","pos","getSocials","$shareBlock","$shareContent","clearInterval","$shareTrigger","d","did","num","$shareClose","getScript","VK","init","apiId","onlyWidgets","setInterval","prepend","URL","js","onload","onreadystatechange","readyState","executed","OK","CONNECT","insertShareWidget","Widgets","documentElement","appendChild","parents","fancybox","autoFocus","loop","smallBtn","touch","$selector","open","selector","backFocus","index","$block","mh","h_block","parseInt"],"mappings":"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","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\r\n  lazy();\r\n  tooltip();\r\n  nav();\r\n  cityBlock();\r\n  slider();\r\n  gallery();\r\n  cover();\r\n  showNum();\r\n  share();\r\n  popup();\r\n  autoHeight();\r\n});\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n  gallery();\r\n  cover();\r\n  autoHeight();\r\n});\r\n\r\n//global variables\r\nvar innerWidth = $('body').innerWidth(),\r\n    $slider = $('.slider'),\r\n  //scroll-styling\r\n  cursorcolorVar = \"#fff\",\r\n  cursorwidthVar = \"7px\",\r\n  cursorborderVar = \"0\",\r\n  cursorborderradiusVar = \"0\",\r\n  zindexVar = [100],\r\n  bouncescrollVar = false;\r\n//\r\n\r\n//city-block\r\nfunction cityBlock() {\r\n  var openbutton = $(\".sub-nav__link_city\"),\r\n    textInput = $('.search-city__input'),\r\n    list = $('.search-city__list'),\r\n    cityBlock = $(\".search-city\"),\r\n    scrollStart = $(\"html, body\").scrollTop(),\r\n    scrollEnd = $(\"html, body\").scrollTop(),\r\n    item = $(\".search-city__item_city\"),\r\n    falseText = $(\".search-city__item_nothing\"),\r\n    inputVal,\r\n    value,\r\n    quantity,\r\n    state,\r\n    flag;\r\n\r\n  //события\r\n  textInput.keyup(function () {\r\n    searchCity();\r\n  });\r\n\r\n  $(document).on('click touchstart', function (e) {\r\n    if (!flag) {\r\n      flag = true;\r\n      setTimeout(function () {\r\n        flag = false;\r\n      }, 300);\r\n      if (!cityBlock.is(e.target) && cityBlock.has(e.target).length === 0 && cityBlock.hasClass(\"search-city_visible\")) {\r\n        toggleModal();\r\n      } else if (openbutton.is(e.target) || openbutton.children().is(e.target)) {\r\n        toggleModal();\r\n      }\r\n    }\r\n  });\r\n\r\n  $(window).scroll(function () {\r\n    scrollEnd = $(\"html, body\").scrollTop();\r\n    if (((scrollEnd > (scrollStart + 100)) || ((scrollEnd < (scrollStart - 100)))) && state == true) {\r\n      toggleModal();\r\n    }\r\n  });\r\n\r\n  //функции\r\n  function scrollInit() {\r\n    list.niceScroll({\r\n      cursorcolor: cursorcolorVar,\r\n      cursorwidth: cursorwidthVar,\r\n      cursorborder: cursorborderVar,\r\n      cursorborderradius: cursorborderradiusVar,\r\n      zindex: zindexVar,\r\n      bouncescroll: bouncescrollVar,\r\n      autohidemode: false\r\n    });\r\n  };\r\n\r\n  //открытие или закрытие модалки\r\n  function toggleModal() {\r\n    scrollStart = $(\"html, body\").scrollTop();\r\n    cityBlock.toggleClass(\"search-city_visible\");\r\n    if (cityBlock.hasClass(\"search-city_visible\")) {\r\n      openbutton.addClass('mobile-button_active');\r\n      textInput.val(\"\");\r\n      searchCity();\r\n      cityBlock.fadeIn(300);\r\n      state = true;\r\n      scrollInit();\r\n      list.getNiceScroll().resize();\r\n    } else {\r\n      openbutton.removeClass('mobile-button_active');\r\n      cityBlock.fadeOut(300);\r\n      state = false;\r\n    }\r\n  };\r\n\r\n  //поиск\r\n  function searchCity() {\r\n    inputVal = textInput.val().toLowerCase();\r\n    if (inputVal.length >= 1) {\r\n      item.removeClass(\"search-city__item_active\");\r\n      item.each(function () {\r\n        value = $(this).attr('data-city').toLowerCase();\r\n        if (value.search(inputVal) != -1) {\r\n          $(this).addClass('search-city__item_active');\r\n        }\r\n      })\r\n      quantity = $(\".search-city__item_city.search-city__item_active\").length;\r\n      if (quantity < 1) {\r\n        falseText.addClass(\"search-city__item_active\");\r\n      } else {\r\n        falseText.removeClass(\"search-city__item_active\");\r\n      }\r\n    } else {\r\n      item.addClass(\"search-city__item_active\");\r\n      falseText.removeClass(\"search-city__item_active\");\r\n    }\r\n    list.getNiceScroll().resize();\r\n  };\r\n}\r\n//image-cover-box\r\nfunction cover() {\r\n  $('.cover-box').each(function () {\r\n    //set size\r\n    var th = $(this).height(), //box height\r\n      tw = $(this).width(), //box width\r\n      im = $(this).children('img'), //image\r\n      ih = im.height(),\r\n      iw = im.width();\r\n    if ((tw / th) >= (iw / ih)) {\r\n      im.addClass('ww').removeClass('wh');\r\n    } else {\r\n      im.addClass('wh').removeClass('ww');\r\n    }\r\n  });\r\n}\r\n\r\n//nav\r\nfunction nav() {\r\n  var $navToggle = $('.sub-nav__nav-open, .nav__close'),\r\n    $overlay = $('.overlay'),\r\n    $nav = $('.nav'),\r\n    navLink = $('.nav__link'),\r\n    overlay = $('.overlay'),\r\n    scrollLink = $('.scroll-link');\r\n\r\n    $navToggle.on('click', function (event) {\r\n    event.preventDefault();\r\n    $nav.toggleClass('nav_active');\r\n    navState();\r\n    })\r\n    $overlay.on('click touchstart', function () {\r\n      $nav.removeClass('nav_active');\r\n      navState();\r\n    })\r\n\r\n  function navState() {\r\n    if ($nav.hasClass('nav_active')) {\r\n      overlay.fadeIn(300);\r\n      scrollLock.hide($(\"body\"));\r\n      $('.page').addClass('page_fixed');\r\n    } else {\r\n      overlay.fadeOut(300);\r\n      scrollLock.show($(\"body\"));\r\n      $('.page').removeClass('page_fixed');\r\n    }\r\n  }\r\n  $(window).resize(function () {\r\n    if (innerWidth > 992) {\r\n      $nav.removeClass('nav_active');\r\n      navState();\r\n    }\r\n  });\r\n  navLink.on('click', function () {\r\n    if (innerWidth < 993) {\r\n      $nav.removeClass('nav_active');\r\n      navState();\r\n    }\r\n  })\r\n\r\n  //якорные ссылки\r\n  scrollLink.click(function (event) {\r\n    var id = $(this).attr('href'),\r\n      top = $(id).offset().top;\r\n    event.preventDefault();\r\n\r\n    if (innerWidth < 993) {\r\n      $nav.removeClass('nav_active');\r\n      navState();\r\n      setTimeout(function () {\r\n        $('body,html').animate({\r\n          scrollTop: top\r\n        }, 400);\r\n      }, 300)\r\n    } else {\r\n      $('body,html').animate({\r\n        scrollTop: top\r\n      }, 400);\r\n    }\r\n  })\r\n}\r\n//lazy\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    visibleOnly: true,\r\n    threshold: '1000',\r\n    effect: 'fadeIn',\r\n    effectTime: '300',\r\n    defaultImage: false,\r\n    afterLoad: function() {\r\n      autoHeight();\r\n      $slider.slick('setPosition');\r\n      cover();\r\n    }\r\n  });\r\n}\r\n//tooltips\r\nfunction tooltip() {\r\n  $('.tooltip').tooltipster({\r\n    theme: 'tooltipster-light',\r\n    trigger: 'custom',\r\n    animationDuration: 100,\r\n    trackerInterval: 100,\r\n    triggerOpen: {\r\n      click: true, // For mouse\r\n      touchstart: true, // For touch device\r\n      mouseenter: true // For touch device\r\n    },\r\n    triggerClose: {\r\n      click: true, // For mouse\r\n      touchleave: true, // For touch device\r\n      mouseleave: true // For mouse\r\n    }\r\n  });\r\n}\r\n\r\nfunction slider() {\r\n  $slider.on('init', function () {\r\n    $(this).addClass('slider_visible')\r\n  });\r\n\r\n  $slider.each(function () {\r\n    $(this).on('init reInit afterChange', function(){\r\n      lazy();\r\n    });\r\n    var slideCount = 1,\r\n      slidesPerRow = 1,\r\n      slideCount1200 = 1,\r\n      slidesPerRow1200 = 1,\r\n      slideCount992 = 1,\r\n      slidesPerRow992 = 1,\r\n      slideCount768 = 1,\r\n      slidesPerRow768 = 1,\r\n      slideCount576 = 1,\r\n      slidesPerRow576 = 1,\r\n      slideCount420 = 1,\r\n      slidesPerRow420 = 1,\r\n      rows = 1,\r\n      arrows = false,\r\n      dots = false,\r\n      centerMode = false,\r\n      adaptiveHeight = false;\r\n\r\n    if ($(this).hasClass('slider_dots')) {\r\n      dots = true;\r\n    }\r\n    if ($(this).hasClass('slider_arrows')) {\r\n      arrows = true;\r\n    }\r\n    if ($(this).hasClass('recommendations-slider')) {\r\n      slideCount = 6;\r\n      slideCount1200 = 5;\r\n      slideCount992 = 4;\r\n      slideCount768 = 3;\r\n      slideCount576 = 2;\r\n      slideCount420 = 1;\r\n    }\r\n    if ($(this).hasClass('barbers__slider')) {\r\n      slideCount = 4;\r\n      slideCount1200 = 4;\r\n      slideCount992 = 3;\r\n      slideCount768 = 2;\r\n      slideCount576 = 1;\r\n      slideCount420 = 1;\r\n    }\r\n    if ($(this).hasClass('banner__slider')) {\r\n      centerMode = true;\r\n    }\r\n    if ($(this).hasClass('portfolio__slider')) {\r\n      slidesPerRow = 4;\r\n      rows = 2;\r\n      slidesPerRow1200 = 4;\r\n      slidesPerRow992 = 3;\r\n      slidesPerRow768 = 3;\r\n      slidesPerRow576 = 2;\r\n      slidesPerRow420 = 2;\r\n    }\r\n    if ($(this).hasClass('awards__slider')) {\r\n      slideCount = 5;\r\n      slideCount1200 = 5;\r\n      slideCount992 = 4;\r\n      slideCount768 = 3;\r\n      slideCount576 = 2;\r\n      slideCount420 = 2;\r\n      adaptiveHeight = true;\r\n    }\r\n\r\n    if ($(this).hasClass('publications__slider')) {\r\n      slidesPerRow = 2;\r\n      rows = 2;\r\n      slidesPerRow1200 = 2;\r\n      slidesPerRow992 = 1;\r\n      slidesPerRow768 = 1;\r\n      slidesPerRow576 = 1;\r\n      slidesPerRow420 = 1;\r\n      adaptiveHeight = true;\r\n    }\r\n\r\n    $(this).slick({\r\n      infinite: true,\r\n      dots: dots,\r\n      arrows: arrows,\r\n      speed: 600,\r\n      lazyLoad: 'ondemand',\r\n      adaptiveHeight: adaptiveHeight,\r\n      centerMode: centerMode,\r\n      slidesToShow: slideCount,\r\n      slidesToScroll: slideCount,\r\n      slidesPerRow: slidesPerRow,\r\n      rows: rows,\r\n      responsive: [{\r\n          breakpoint: 1200,\r\n          settings: {\r\n            slidesToShow: slideCount1200,\r\n            slidesToScroll: slideCount1200,\r\n            slidesPerRow: slidesPerRow1200\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 992,\r\n          settings: {\r\n            slidesToShow: slideCount992,\r\n            slidesToScroll: slideCount992,\r\n            slidesPerRow: slidesPerRow992\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 768,\r\n          settings: {\r\n            slidesToShow: slideCount768,\r\n            slidesToScroll: slideCount768,\r\n            slidesPerRow: slidesPerRow768\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 576,\r\n          settings: {\r\n            slidesToShow: slideCount576,\r\n            slidesToScroll: slideCount576,\r\n            slidesPerRow: slidesPerRow576\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 420,\r\n          settings: {\r\n            slidesToShow: slideCount420,\r\n            slidesToScroll: slideCount420,\r\n            slidesPerRow: slidesPerRow420\r\n          }\r\n        }\r\n      ]\r\n    });\r\n  });\r\n  //fix\r\n  $('.publications-slide').parent().css('display', 'flex');\r\n}\r\n//gallery\r\nfunction gallery() {\r\n  var row = $('.gallery__row:not(:first-child)'),\r\n    block = $('.gallery-block'),\r\n    title = $('.gallery-block_title'),\r\n    margin;\r\n\r\n  if (innerWidth > 576) {\r\n    block.css('margin-top', '0');\r\n    row.each(function () {\r\n      margin = -($(this).height() / 2);\r\n      $(this).css('margin-top', margin);\r\n    })\r\n  } else {\r\n    row.css('margin-top', '0');\r\n    block.each(function () {\r\n      margin = -($(this).height() / 2);\r\n      $(this).css('margin-top', margin);\r\n    })\r\n  }\r\n}\r\n//num\r\nfunction showNum() {\r\n  var num = '999-99-99',\r\n    $toggleBtn = $('.number-block__show-btn');\r\n\r\n  $toggleBtn.on('click', function () {\r\n    $(this).parents('.number-block').find('span').text(num);\r\n    $(this).remove();\r\n  })\r\n}\r\n\r\n//share-trigger\r\nfunction share() {\r\n  var $shareTrigger = $('.share-trigger'),\r\n    $shareBlock = $('.share-area'),\r\n    $shareClose = $('.share-area__close'),\r\n    $shareContent = $('.share-area__content'),\r\n    $shareWrap = $('.share-area__wrap'),\r\n    visible,\r\n    interval,\r\n    loaded = false;\r\n\r\n  $shareTrigger.on('click', function (e) {\r\n    e.preventDefault();\r\n    shareOpen();\r\n  })\r\n  $(document).on('click touchstart', function (e) {\r\n    if ($shareClose.is(e.target) || !$shareTrigger.is(e.target) && !$shareBlock.is(e.target) && $shareBlock.has(e.target).length === 0) {\r\n      shareClose();\r\n    }\r\n  });\r\n\r\n\r\n  function shareOpen() {\r\n    $shareBlock.fadeIn(200);\r\n    visible = true;\r\n    pos();\r\n    getSocials();\r\n    resize();\r\n  }\r\n\r\n  function shareClose() {\r\n    $shareBlock.fadeOut(200);\r\n    visible = false;\r\n    resize();\r\n  }\r\n\r\n  function pos() {\r\n    var headerHeight = $('.header').height(),\r\n      scroll = $(window).scrollTop();\r\n\r\n    console.log(scroll, headerHeight)\r\n\r\n    if (scroll < headerHeight) {\r\n      $shareBlock.css({\r\n        'position': 'absolute',\r\n        'top': headerHeight\r\n      });\r\n    } else {\r\n      $shareBlock.css({\r\n        'position': 'fixed',\r\n        'top': '0'\r\n      });\r\n    }\r\n  }\r\n\r\n  function resize() {\r\n    if (visible == true) {\r\n      interval = setInterval(function () {\r\n        $shareContent.width($shareWrap.width());\r\n        $shareContent.height($shareWrap.height());\r\n      }, 50);\r\n    } else {\r\n      clearInterval(interval);\r\n    }\r\n  }\r\n\r\n  function getSocials() {\r\n    if (!loaded) {\r\n      //vk\r\n      $.getScript('https://vk.com/js/api/openapi.js?160', function () {\r\n        VK.init({\r\n          apiId: 6968173,\r\n          onlyWidgets: true\r\n        });\r\n        VK.Widgets.Like(\"vk_like\", {\r\n          type: \"mini\",\r\n          height: 30\r\n        });\r\n      });\r\n      //fb\r\n      $('body').prepend('<script async defer crossorigin=\"anonymous\" src=\"https://connect.facebook.net/ru_RU/sdk.js#xfbml=1&version=v3.3\"></script>');\r\n      //ok\r\n      ! function (d, id, did, st, title, description, image) {\r\n        var js = d.createElement(\"script\");\r\n        js.src = \"https://connect.ok.ru/connect.js\";\r\n        js.onload = js.onreadystatechange = function () {\r\n          if (!this.readyState || this.readyState == \"loaded\" || this.readyState == \"complete\") {\r\n            if (!this.executed) {\r\n              this.executed = true;\r\n              setTimeout(function () {\r\n                OK.CONNECT.insertShareWidget(id, did, st, title, description, image);\r\n              }, 0);\r\n            }\r\n          }\r\n        };\r\n        d.documentElement.appendChild(js);\r\n      }(document, \"ok_shareWidget\", document.URL, '{\"sz\":30,\"st\":\"oval\",\"ck\":1}', \"\", \"\", \"\");\r\n      loaded = true;\r\n    }\r\n  }\r\n\r\n\r\n  $(window).on('scroll resize', function () {\r\n    pos();\r\n  });\r\n}\r\n\r\n//popup\r\nfunction popup() {\r\n\r\n  $(\".popup-link\").fancybox({\r\n    autoFocus: false,\r\n    loop: true\r\n  });\r\n  \r\n  $(\".modal-link\").fancybox({\r\n    autoFocus: false,\r\n    smallBtn: true,\r\n    touch: false\r\n  });\r\n\r\n  $('.gallery__item a').on('click', function() {\r\n    var $selector = $(this).parents('.gallery').find('.slick-slide:not(.slick-cloned) a');\r\n\r\n    $.fancybox.open( $selector, {\r\n        selector : $selector,\r\n        backFocus : false,\r\n        loop: true,\r\n        animationEffect: \"fade\"\r\n    }, $selector.index( this ) );\r\n\r\n    return false;\r\n  });\r\n  \r\n\r\n\r\n  $('body').removeClass('compensate-for-scrollbar');\r\n}\r\n\r\n//корректировка высоты блоков\r\nfunction autoHeight() {\r\n  var $block = $('.js-auto-height__item');\r\n\r\n  $block.css('height', 'auto');\r\n  //корректировка высоты\r\n  $block.parent().each(function() {\r\n    var mh = 0;\r\n    $(this).find($block).each(function () {\r\n      var h_block = parseInt($(this).height());\r\n      if(h_block > mh) {\r\n         mh = h_block;\r\n      };\r\n    });\r\n    $(this).find($block).height(mh);\r\n  })\r\n}"]}