{"version":3,"sources":["common.js"],"names":["$","document","ready","lazy","tooltip","nav","slider","gallery","showNum","share","popup","autoHeight","checkbox","fadeInWindows","scrollbar","searchCity","funcybox","window","resize","innerWidth","$checkbox","width","$slider","$scroll","cursorcolor","niceScroll","cursorwidth","cursorborder","cursorborderradius","zindex","bouncescroll","autohidemode","$input","$resaultItem","find","$container","$message","createElement","className","innerHTML","inputVal","length","hide","val","toLowerCase","count","each","search","this","text","show","append","remove","getNiceScroll","posY","$window","old","undefined","$btn","el","fadeOut","removeClass","current","addClass","event","preventDefault","target","closest","posX","offset","attr","top","height","left","css","hasClass","right","$nav","$navToggle","toggleClass","navState","$overlay","scrollLock","on","imagesResize","Lazy","effectTime","threshold","imageBase","defaultImage","afterLoad","element","parent","setTimeout","box","imgH","tooltipster","boxH","boxW","trackerInterval","triggerOpen","click","trigger","touchstart","mouseenter","triggerClose","touchleave","mouseleave","slideCount","slidesPerRow","slideCount1200","slidesPerRow1200","slideCount992","slidesPerRow992","slideCount768","slidesPerRow768","slideCount576","slidesPerRow576","slideCount420","slidesPerRow420","rows","arrows","dots","centerMode","adaptiveHeight","speed","lazyLoad","infinite","slidesToShow","slidesToScroll","settings","breakpoint","margin","row","block","$toggleBtn","visible","interval","$shareTrigger","$shareBlock","$shareClose","$shareContent","$shareWrap","loaded","pos","headerHeight","scrollTop","position","setInterval","clearInterval","e","d","did","js","fadeIn","getScript","VK","init","apiId","onlyWidgets","Widgets","Like","type","prepend","URL","src","onload","onreadystatechange","readyState","executed","insertShareWidget","OK","documentElement","appendChild","is","has","fancybox","btnTpl","close","defaults","arrowRight","slideShow","i18n","zoom","PREV","download","PLAY_STOP","SHARE","smallBtn","lang","thumbs","ru","CLOSE","NEXT","ERROR","autoFocus","loop","FULL_SCREEN","THUMBS","touch","$selector","parents","animationEffect","$block","parseInt","h_block","mh","backFocus","index","checkboxCheck","prop","console","log","toggleblocks","$content","$tabBlock","tabs","eq","not","order"],"mappings":"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","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\r\n  lazy();\r\n  tooltip();\r\n  nav();\r\n  slider();\r\n  gallery();\r\n  showNum();\r\n  share();\r\n  popup();\r\n  autoHeight();\r\n  checkbox();\r\n  fadeInWindows();\r\n  scrollbar();\r\n  searchCity();\r\n  funcybox();\r\n  toggleblocks();\r\n  tabs()\r\n});\r\n\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n  gallery();\r\n  autoHeight();\r\n  $('img').each(function() {\r\n    //imagesResize($(this))\r\n  });\r\n});\r\n\r\n//global variables\r\nlet innerWidth = $('.wrapper').width(),\r\n    $checkbox = $('.checkbox'),\r\n    $slider = $('.slider'),\r\n    $scroll = $('.scroll-area');\r\n\r\nfunction scrollbar() {\r\n  $('.scroll-area').niceScroll({\r\n    cursorcolor: \"#fff\",\r\n    cursorwidth: \"5px\",\r\n    cursorborder: \"0\",\r\n    cursorborderradius: \"0\",\r\n    zindex: [100],\r\n    bouncescroll: false,\r\n    autohidemode: false\r\n  });\r\n}\r\n\r\n//поиск\r\nfunction searchCity() {\r\n  let $input = $('#windowCity').find('.input'),\r\n      $resaultItem = $('#windowCity').find('.popup-window__item'),\r\n      $container = $('#windowCity').find('.popup-window__list'),\r\n      $message = document.createElement('li');\r\n\r\n  $message.className = 'popup-window__item';\r\n  $message.innerHTML = '<span>Совпадений не найдено!</span>';\r\n\r\n  //события\r\n  $input.on('input', function() {\r\n    let inputVal = $input.val().toLowerCase();\r\n\r\n    if(inputVal.length >= 1) {\r\n      $resaultItem.hide();\r\n      let count = 0;\r\n      $resaultItem.each(function() {\r\n        let itemVal = $(this).find('a').text().toLowerCase();\r\n        if(itemVal.search(inputVal) !== -1) {\r\n          count++;\r\n          $(this).show();\r\n        }\r\n      })\r\n      if(count==0) {\r\n        $container.append($message);\r\n      } else {\r\n        $message.remove();\r\n      }\r\n    } \r\n    else {\r\n      $message.remove();\r\n      $resaultItem.show();\r\n    }\r\n    $scroll.getNiceScroll().resize();\r\n  });\r\n}\r\n\r\n//всплывающие окна\r\nfunction fadeInWindows() {\r\n  let posY,\r\n      posX;\r\n  \r\n  let $window = {\r\n    old: {\r\n      el: undefined,\r\n      hide: function(){\r\n        $(this.el).fadeOut(200);\r\n        $(this.el).removeClass('active');\r\n        $btn.el.removeClass('active');\r\n      }\r\n    },\r\n    current: {\r\n      el: undefined,\r\n      hide: function() {\r\n        $(this.el).fadeOut(200);\r\n        $(this.el).removeClass('active');\r\n        $btn.el.removeClass('active');\r\n      },\r\n      show: function() {\r\n        $(this.el).fadeIn(200);\r\n        $(this.el).addClass('active');\r\n        $btn.current.el.addClass('active');\r\n        $scroll.getNiceScroll().resize();\r\n        $window.old.el = $window.current.el;\r\n      }\r\n    }\r\n  };\r\n  let $btn = {\r\n    className: 'windowOpenButton',\r\n    el: $('.windowOpenButton'),\r\n    current: {\r\n      el: undefined\r\n    }\r\n  }\r\n\r\n  $(document).on('click touchstart mousedown touchend', function(event) {\r\n\r\n    //function\r\n    if($(event.target).closest($btn.el).length > 0) {\r\n      if(event.type=='click') {\r\n        event.preventDefault();\r\n        $btn.current.el = $(event.target).closest($btn.el);\r\n        $window.current.el = $($btn.current.el.attr('href'));\r\n\r\n        if(innerWidth>1024) { \r\n          posY = $btn.current.el.offset().top + $btn.current.el.height() + 2;\r\n          posX = innerWidth - ($btn.current.el.offset().left + $btn.current.el.width()) + 4;\r\n        } else {\r\n          posY = $('.header').height();\r\n          posX = 0;\r\n        }\r\n\r\n        $window.current.el.css({'top':posY, 'right':posX});\r\n\r\n        if($window.current.el.hasClass('active')) {\r\n          $window.current.hide();\r\n        } else {\r\n          if($window.old.el!==undefined && $window.old.el.hasClass('active')) {\r\n            $window.old.hide();\r\n          }\r\n          $window.current.show();\r\n        }\r\n      } \r\n    } \r\n    else if($window.current.el!==undefined && $window.current.el.hasClass('active') && $(event.target).closest($window.current.el).length == 0) {\r\n      $window.current.hide();\r\n    }\r\n  })\r\n}\r\n\r\n\r\n//nav\r\nfunction nav() {\r\n  var $navToggle = $('.sub-nav__nav-open, .nav__close'),\r\n    $overlay = $('.overlay'),\r\n    $nav = $('.nav');\r\n\r\n  $navToggle.on('click', function (event) {\r\n    event.preventDefault();\r\n    $nav.toggleClass('active');\r\n    navState();\r\n  })\r\n  \r\n  $overlay.on('click touchstart', function () {\r\n    $nav.removeClass('active');\r\n    navState();\r\n  })\r\n\r\n  function navState() {\r\n    if ($nav.hasClass('active')) {\r\n      $overlay.fadeIn(300);\r\n      scrollLock.hide($(\"body\"));\r\n      $('.page').addClass('active');\r\n    } else {\r\n      $overlay.fadeOut(300);\r\n      scrollLock.show($(\"body\"));\r\n      $('.page').removeClass('active');\r\n    }\r\n  }\r\n\r\n  $(window).resize(function () {\r\n    if (innerWidth > 1024) {\r\n      $nav.removeClass('active');\r\n      navState();\r\n    }\r\n  });\r\n\r\n  /* navLink.on('click', function () {\r\n    if (innerWidth < 993) {\r\n      $nav.removeClass('nav_active');\r\n      navState();\r\n    }\r\n  }) */\r\n\r\n  /* //якорные ссылки\r\n  scrollLink.click(function (event) {\r\n    var id = $(this).attr('href'),\r\n      top = $(id).offset().top;\r\n    event.preventDefault();\r\n\r\n    if (innerWidth < 993) {\r\n      $nav.removeClass('nav_active');\r\n      navState();\r\n      setTimeout(function () {\r\n        $('body,html').animate({\r\n          scrollTop: top\r\n        }, 400);\r\n      }, 300)\r\n    } else {\r\n      $('body,html').animate({\r\n        scrollTop: top\r\n      }, 400);\r\n    }\r\n  }) */\r\n}\r\n\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    effectTime: 0,\r\n    threshold: 500,\r\n    imageBase: false,\r\n    defaultImage: false,\r\n    afterLoad: function(element) {\r\n      imagesResize(element);\r\n    }\r\n  });\r\n}\r\nfunction imagesResize(element) {\r\n  let box = element.parent();\r\n\r\n  if(!box.hasClass('cover-box_size-auto')) {\r\n    let boxH = box.height(),\r\n        boxW = box.width();\r\n\r\n    setTimeout(function() {\r\n      let imgH = element.height(),\r\n          imgW = element.width();\r\n\r\n      if ((boxW / boxH) >= (imgW / imgH)) {\r\n        element.addClass('ww').removeClass('wh');\r\n      } else {\r\n        element.addClass('wh').removeClass('ww');\r\n      }\r\n      element.addClass('visible');\r\n    }, 100)\r\n  } else {\r\n    element.addClass('visible');\r\n  }\r\n}\r\n//tooltips\r\nfunction tooltip() {\r\n  $('.tooltip').tooltipster({\r\n    theme: 'tooltipster-light',\r\n    trigger: 'custom',\r\n    animationDuration: 100,\r\n    trackerInterval: 100,\r\n    triggerOpen: {\r\n      click: true, // For mouse\r\n      touchstart: true, // For touch device\r\n      mouseenter: true // For touch device\r\n    },\r\n    triggerClose: {\r\n      click: true, // For mouse\r\n      touchleave: true, // For touch device\r\n      mouseleave: true // For mouse\r\n    }\r\n  });\r\n}\r\n\r\nfunction slider() {\r\n  $slider.on('init', function () {\r\n    $(this).addClass('slider_visible')\r\n  });\r\n\r\n  $slider.each(function () {\r\n    $(this).on('init beforeChange afterChange', function(){\r\n      lazy();\r\n    });\r\n    var slideCount = 1,\r\n      slidesPerRow = 1,\r\n      slideCount1200 = 1,\r\n      slidesPerRow1200 = 1,\r\n      slideCount992 = 1,\r\n      slidesPerRow992 = 1,\r\n      slideCount768 = 1,\r\n      slidesPerRow768 = 1,\r\n      slideCount576 = 1,\r\n      slidesPerRow576 = 1,\r\n      slideCount420 = 1,\r\n      slidesPerRow420 = 1,\r\n      rows = 1,\r\n      arrows = false,\r\n      dots = false,\r\n      centerMode = false,\r\n      adaptiveHeight = false;\r\n\r\n    if ($(this).hasClass('slider_dots')) {\r\n      dots = true;\r\n    }\r\n    if ($(this).hasClass('slider_arrows')) {\r\n      arrows = true;\r\n    }\r\n    if ($(this).hasClass('recommendations-slider')) {\r\n      slideCount = 6;\r\n      slideCount1200 = 5;\r\n      slideCount992 = 4;\r\n      slideCount768 = 3;\r\n      slideCount576 = 2;\r\n      slideCount420 = 1;\r\n    }\r\n    if ($(this).hasClass('barbers__slider')) {\r\n      slideCount = 4;\r\n      slideCount1200 = 4;\r\n      slideCount992 = 3;\r\n      slideCount768 = 2;\r\n      slideCount576 = 1;\r\n      slideCount420 = 1;\r\n    }\r\n    if ($(this).hasClass('banner__slider')) {\r\n      centerMode = true;\r\n    }\r\n    if ($(this).hasClass('portfolio__slider')) {\r\n      slidesPerRow = 4;\r\n      rows = 2;\r\n      slidesPerRow1200 = 4;\r\n      slidesPerRow992 = 3;\r\n      slidesPerRow768 = 3;\r\n      slidesPerRow576 = 2;\r\n      slidesPerRow420 = 2;\r\n    }\r\n    if ($(this).hasClass('awards__slider')) {\r\n      slideCount = 5;\r\n      slideCount1200 = 5;\r\n      slideCount992 = 4;\r\n      slideCount768 = 3;\r\n      slideCount576 = 2;\r\n      slideCount420 = 2;\r\n      adaptiveHeight = true;\r\n    }\r\n\r\n    if ($(this).hasClass('publications__slider')) {\r\n      slidesPerRow = 2;\r\n      rows = 2;\r\n      slidesPerRow1200 = 2;\r\n      slidesPerRow992 = 1;\r\n      slidesPerRow768 = 1;\r\n      slidesPerRow576 = 1;\r\n      slidesPerRow420 = 1;\r\n      adaptiveHeight = true;\r\n    }\r\n\r\n    $(this).slick({\r\n      infinite: true,\r\n      dots: dots,\r\n      arrows: arrows,\r\n      speed: 600,\r\n      lazyLoad: 'ondemand',\r\n      adaptiveHeight: adaptiveHeight,\r\n      centerMode: centerMode,\r\n      slidesToShow: slideCount,\r\n      slidesToScroll: slideCount,\r\n      slidesPerRow: slidesPerRow,\r\n      rows: rows,\r\n      responsive: [{\r\n          breakpoint: 1200,\r\n          settings: {\r\n            slidesToShow: slideCount1200,\r\n            slidesToScroll: slideCount1200,\r\n            slidesPerRow: slidesPerRow1200\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 992,\r\n          settings: {\r\n            slidesToShow: slideCount992,\r\n            slidesToScroll: slideCount992,\r\n            slidesPerRow: slidesPerRow992\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 768,\r\n          settings: {\r\n            slidesToShow: slideCount768,\r\n            slidesToScroll: slideCount768,\r\n            slidesPerRow: slidesPerRow768\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 576,\r\n          settings: {\r\n            slidesToShow: slideCount576,\r\n            slidesToScroll: slideCount576,\r\n            slidesPerRow: slidesPerRow576\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 420,\r\n          settings: {\r\n            slidesToShow: slideCount420,\r\n            slidesToScroll: slideCount420,\r\n            slidesPerRow: slidesPerRow420\r\n          }\r\n        }\r\n      ]\r\n    });\r\n  });\r\n  //fix\r\n  $('.publications-slide').parent().css('display', 'flex');\r\n}\r\n//gallery\r\nfunction gallery() {\r\n  var row = $('.gallery__row:not(:first-child)'),\r\n    block = $('.gallery-block'),\r\n    title = $('.gallery-block_title'),\r\n    margin;\r\n\r\n  if (innerWidth > 576) {\r\n    block.css('margin-top', '0');\r\n    row.each(function () {\r\n      margin = -($(this).height() / 2);\r\n      $(this).css('margin-top', margin);\r\n    })\r\n  } else {\r\n    row.css('margin-top', '0');\r\n    block.each(function () {\r\n      margin = -($(this).height() / 2);\r\n      $(this).css('margin-top', margin);\r\n    })\r\n  }\r\n}\r\n//num\r\nfunction showNum() {\r\n  var num = '999-99-99',\r\n    $toggleBtn = $('.number-block__show-btn');\r\n\r\n  $toggleBtn.on('click', function () {\r\n    $(this).parents('.number-block').find('span').text(num);\r\n    $(this).remove();\r\n  })\r\n}\r\n\r\n//share-trigger\r\nfunction share() {\r\n  var $shareTrigger = $('.share-trigger'),\r\n    $shareBlock = $('.share-area'),\r\n    $shareClose = $('.share-area__close'),\r\n    $shareContent = $('.share-area__content'),\r\n    $shareWrap = $('.share-area__wrap'),\r\n    visible,\r\n    interval,\r\n    loaded = false;\r\n\r\n  $shareTrigger.on('click', function (e) {\r\n    e.preventDefault();\r\n    shareOpen();\r\n  })\r\n  $(document).on('click touchstart', function (e) {\r\n    if ($shareClose.is(e.target) || !$shareTrigger.is(e.target) && !$shareBlock.is(e.target) && $shareBlock.has(e.target).length === 0) {\r\n      shareClose();\r\n    }\r\n  });\r\n\r\n\r\n  function shareOpen() {\r\n    $shareBlock.fadeIn(200);\r\n    visible = true;\r\n    pos();\r\n    getSocials();\r\n    resize();\r\n  }\r\n\r\n  function shareClose() {\r\n    $shareBlock.fadeOut(200);\r\n    visible = false;\r\n    resize();\r\n  }\r\n\r\n  function pos() {\r\n    var headerHeight = $('.header').height(),\r\n      scroll = $(window).scrollTop();\r\n\r\n    if (scroll < headerHeight) {\r\n      $shareBlock.css({\r\n        'position': 'absolute',\r\n        'top': headerHeight\r\n      });\r\n    } else {\r\n      $shareBlock.css({\r\n        'position': 'fixed',\r\n        'top': '0'\r\n      });\r\n    }\r\n  }\r\n\r\n  function resize() {\r\n    if (visible == true) {\r\n      interval = setInterval(function () {\r\n        $shareContent.width($shareWrap.width());\r\n        $shareContent.height($shareWrap.height());\r\n      }, 50);\r\n    } else {\r\n      clearInterval(interval);\r\n    }\r\n  }\r\n\r\n  function getSocials() {\r\n    if (!loaded) {\r\n      //vk\r\n      $.getScript('https://vk.com/js/api/openapi.js?160', function () {\r\n        VK.init({\r\n          apiId: 6968173,\r\n          onlyWidgets: true\r\n        });\r\n        VK.Widgets.Like(\"vk_like\", {\r\n          type: \"mini\",\r\n          height: 30\r\n        });\r\n      });\r\n      //fb\r\n      $('body').prepend('<script async defer crossorigin=\"anonymous\" src=\"https://connect.facebook.net/ru_RU/sdk.js#xfbml=1&version=v3.3\"></script>');\r\n      //ok\r\n      ! function (d, id, did, st, title, description, image) {\r\n        var js = d.createElement(\"script\");\r\n        js.src = \"https://connect.ok.ru/connect.js\";\r\n        js.onload = js.onreadystatechange = function () {\r\n          if (!this.readyState || this.readyState == \"loaded\" || this.readyState == \"complete\") {\r\n            if (!this.executed) {\r\n              this.executed = true;\r\n              setTimeout(function () {\r\n                OK.CONNECT.insertShareWidget(id, did, st, title, description, image);\r\n              }, 0);\r\n            }\r\n          }\r\n        };\r\n        d.documentElement.appendChild(js);\r\n      }(document, \"ok_shareWidget\", document.URL, '{\"sz\":30,\"st\":\"oval\",\"ck\":1}', \"\", \"\", \"\");\r\n      loaded = true;\r\n    }\r\n  }\r\n\r\n\r\n  $(window).on('scroll resize', function () {\r\n    pos();\r\n  });\r\n}\r\n\r\nfunction funcybox() {\r\n  $.fancybox.defaults.btnTpl.close = '<button data-fancybox-close class=\"fancybox-button fancybox-button--close\" title=\"{{CLOSE}}\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.6 13.6\"><path d=\"M6.8 5.4L1.4 0 0 1.4l5.4 5.4L0 12.2l1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4L12.2 0z\"></path></svg>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.arrowLeft = '<button data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_left\" title=\"{{PREV}}\">' +\r\n  '<div><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14 10.14\"><path d=\"M6.28 8.77l-1.34 1.37L0 5.07 4.94 0l1.34 1.38L3.6 4.1H14v1.94H3.6z\"></path></svg></div>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.arrowRight = '<button data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_right\" title=\"{{PREV}}\">' +\r\n  '<div><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14 10.14\"><path d=\"M10.4 6.04L7.72 8.76l1.34 1.38L14 5.07 9.06 0 7.72 1.38 10.4 4.1H0v1.94z\"></path></svg></div>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.zoom = '<button data-fancybox-zoom class=\"fancybox-button fancybox-button--zoom\" title=\"{{ZOOM}}\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.056 14.096\"> <path d=\"M13.756 12.356l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zm-10.6-3.5a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z\"></path> </svg>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.download = '<a download data-fancybox-download class=\"fancybox-button fancybox-button--download\" title=\"{{DOWNLOAD}}\" href=\"javascript:;\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.24 14\"> <path d=\"M13.24 12.09V14H0v-1.91zm-2.97-6.96l1.35 1.32-5 4.87-5-4.87 1.36-1.32 2.68 2.64V0h1.92v7.77z\"></path> </svg>' +\r\n  \"</a>\";\r\n  $.fancybox.defaults.btnTpl.slideShow = '<button data-fancybox-play class=\"fancybox-button fancybox-button--play\" title=\"{{PLAY_START}}\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11 13.2\"> <path d=\"M0 0v13.2l11-6.6z\"></path></svg>' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 7.35 12.5\" id=\"slideshow\"><path d=\"M0 0h2.2v12.5H0zm5.15 0h2.2v12.5h-2.2z\"></path></svg>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.smallBtn = '<button type=\"button\" data-fancybox-close class=\"fancybox-button fancybox-close-small\" title=\"{{CLOSE}}\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.6 13.6\"><path d=\"M6.8 5.4L1.4 0 0 1.4l5.4 5.4L0 12.2l1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4L12.2 0z\"></path></svg>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.thumbs = '<button data-fancybox-thumbs class=\"fancybox-button fancybox-button--thumbs\" title=\"{{THUMBS}}\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 12.7 12.7\" id=\"slideshow\"><path d=\"M8.94 8.94h3.76v3.76H8.94zm-4.47 0h3.76v3.76H4.47zM0 8.94h3.76v3.76H0zm8.94-4.47h3.76v3.76H8.94zm-4.47 0h3.76v3.76H4.47zM0 4.47h3.76v3.76H0zM8.94 0h3.76v3.76H8.94zM4.47 0h3.76v3.76H4.47zM0 0h3.76v3.76H0z\"></path></svg>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.i18n.ru = {\r\n    CLOSE       : 'Закрыть',\r\n    NEXT        : 'Следующий слайд',\r\n    PREV        : 'Предидущий слайд',\r\n    ERROR       : 'Ошибка загрузки, попробуйте позже.',\r\n    PLAY_START  : 'Запустить слайд-шоу',\r\n    PLAY_STOP   : 'Остановить слайд-шоу',\r\n    FULL_SCREEN : 'Полноэкранный режим',\r\n    THUMBS      : 'Миниатюры',\r\n    DOWNLOAD    : 'Загрузить',\r\n    SHARE       : 'Поделиться',\r\n    ZOOM        : 'Увеличить'\r\n  };\r\n  $.fancybox.defaults.lang = 'ru';\r\n  $.fancybox.defaults.loop = true;\r\n  $.fancybox.defaults.autoFocus = false;\r\n}\r\n\r\n//popup\r\nfunction popup() {\r\n\r\n  $(\".popup-link\").fancybox({\r\n    autoFocus: false,\r\n    loop: true\r\n  });\r\n  \r\n  $(\".modal-link\").fancybox({\r\n    autoFocus: false,\r\n    smallBtn: true,\r\n    touch: false\r\n  });\r\n\r\n  $('.gallery__item a').on('click', function() {\r\n    var $selector = $(this).parents('.gallery').find('.slick-slide:not(.slick-cloned) a');\r\n\r\n    $.fancybox.open( $selector, {\r\n        selector : $selector,\r\n        backFocus : false,\r\n        loop: true,\r\n        animationEffect: \"fade\"\r\n    }, $selector.index( this ) );\r\n\r\n    return false;\r\n  });\r\n}\r\n\r\n//корректировка высоты блоков\r\nfunction autoHeight() {\r\n  var $block = $('.js-auto-height__item');\r\n\r\n  $block.css('height', 'auto');\r\n  //корректировка высоты\r\n  $block.parent().each(function() {\r\n    var mh = 0;\r\n    $(this).find($block).each(function () {\r\n      var h_block = parseInt($(this).height());\r\n      if(h_block > mh) {\r\n         mh = h_block;\r\n      };\r\n    });\r\n    $(this).find($block).height(mh);\r\n  })\r\n}\r\n\r\n//обрабокта кликов\r\nfunction checkbox() {\r\n  $checkbox.on('click', function() {\r\n    checkboxCheck();\r\n  })\r\n}\r\n//в остальных ситуация для изменения вида чекбоксов выполняется эта функция\r\nfunction checkboxCheck() {\r\n  $checkbox.each(function() {\r\n    if($(this).find('input').prop('checked') || $('#' + $(this).attr('for')).prop('checked')) {\r\n      $(this).addClass('checked');\r\n      console.log('1')\r\n    } else {\r\n      $(this).removeClass('checked');\r\n      console.log('2')\r\n    }\r\n  })\r\n}\r\n//toggle\r\nfunction toggleblocks() {\r\n  let $container = $('.toggle-group'),\r\n      $btn,\r\n      $content;\r\n\r\n  $(document).on('click', '.toggle-button', function(event) {\r\n    event.preventDefault();\r\n\r\n    $btn = $(this);\r\n    $container = $btn.parents('.toggle-group');\r\n    $content = $container.find('.toggle-content');\r\n\r\n    $btn.toggleClass('active');\r\n    $content.toggleClass('active');\r\n  })\r\n}\r\n//tabs\r\nfunction tabs() {\r\n  $('.tab-block__item a').eq(0).addClass('active');\r\n  $('.tab-block__tab').not(':first').hide();\r\n\r\n  $(document).on('click', '.tab-block__item a', function(event) {\r\n    event.preventDefault();\r\n\r\n    let order = $(this).parent().index(),\r\n        $tabBlock = $(this).parents('.tab-block'),\r\n        $btn = $tabBlock.find('.tab-block__item a')\r\n\r\n    $btn.removeClass('active');\r\n    $(this).addClass('active');\r\n    $tabBlock.find('.tab-block__tab').hide()\r\n    $tabBlock.find('.tab-block__tab').eq(order).fadeIn(200);\r\n    console.log(order)\r\n  })\r\n}"]}