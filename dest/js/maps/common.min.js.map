{"version":3,"sources":["common.js"],"names":["$","document","ready","lazy","tooltip","nav","cityBlock","slider","gallery","cover","showNum","popup","resize","innerWidth","window","cursorcolorVar","cursorborderVar","cursorborderradiusVar","zindexVar","bouncescrollVar","inputVal","state","flag","openbutton","textInput","list","scrollStart","scrollTop","scrollEnd","item","falseText","toggleClass","hasClass","addClass","val","searchCity","fadeIn","cursorwidth","cursorwidthVar","cursorborder","cursorborderradius","zindex","bouncescroll","autohidemode","getNiceScroll","removeClass","fadeOut","toLowerCase","attr","search","value","length","on","e","setTimeout","toggleModal","is","target","has","children","scroll","th","this","height","tw","width","im","ih","each","navButton","navLink","scrollLink","overlay","hide","event","preventDefault","navState","click","scrollLock","top","id","offset","animate","Lazy","visibleOnly","threshold","defaultImage","tooltipster","theme","trigger","effect","effectTime","mouseenter","triggerClose","touchleave","mouseleave","triggerOpen","touchstart","slideCount1200","slideCount992","slideCount768","slidesPerRow768","slideCount576","slidesPerRow576","slideCount420","slidesPerRow420","dots","centerMode","slidesPerRow","arrows","slidesPerRow992","slideCount","adaptiveHeight","infinite","rows","slidesPerRow1200","responsive","breakpoint","settings","slick","lazyLoad","slidesToShow","slidesToScroll","row","css","block","margin","find","text","remove","visible","interval","$shareContent","$shareWrap","loaded","shareClose","headerHeight","$shareBlock","getSocials","console","setInterval","clearInterval","$shareTrigger","did","$toggleBtn","$shareClose","pos","getScript","VK","init","apiId","prepend","URL","d","createElement","src","js","onreadystatechange","readyState","executed","onlyWidgets","Widgets","Like","insertShareWidget","documentElement","appendChild","shareOpen","onload","fancybox","autoFocus","loop","smallBtn","touch","$selector","parents","open","selector","backFocus","animationEffect","index"],"mappings":"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","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\r\n  lazy();\r\n  tooltip();\r\n  nav();\r\n  cityBlock();\r\n  slider();\r\n  gallery();\r\n  cover();\r\n  showNum();\r\n  share();\r\n  popup();\r\n});\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n  gallery();\r\n  cover();\r\n});\r\n\r\n//global variables\r\nvar innerWidth = $('body').innerWidth(),\r\n  //scroll-styling\r\n  cursorcolorVar = \"#fff\",\r\n  cursorwidthVar = \"7px\",\r\n  cursorborderVar = \"0\",\r\n  cursorborderradiusVar = \"0\",\r\n  zindexVar = [100],\r\n  bouncescrollVar = false;\r\n//\r\n\r\n//city-block\r\nfunction cityBlock() {\r\n  var openbutton = $(\".sub-nav__link_city\"),\r\n    textInput = $('.search-city__input'),\r\n    list = $('.search-city__list'),\r\n    cityBlock = $(\".search-city\"),\r\n    scrollStart = $(\"html, body\").scrollTop(),\r\n    scrollEnd = $(\"html, body\").scrollTop(),\r\n    item = $(\".search-city__item_city\"),\r\n    falseText = $(\".search-city__item_nothing\"),\r\n    inputVal,\r\n    value,\r\n    quantity,\r\n    state,\r\n    flag;\r\n\r\n  //события\r\n  textInput.keyup(function () {\r\n    searchCity();\r\n  });\r\n\r\n  $(document).on('click touchstart', function (e) {\r\n    if (!flag) {\r\n      flag = true;\r\n      setTimeout(function () {\r\n        flag = false;\r\n      }, 300);\r\n      if (!cityBlock.is(e.target) && cityBlock.has(e.target).length === 0 && cityBlock.hasClass(\"search-city_visible\")) {\r\n        toggleModal();\r\n      } else if (openbutton.is(e.target) || openbutton.children().is(e.target)) {\r\n        toggleModal();\r\n      }\r\n    }\r\n  });\r\n\r\n  $(window).scroll(function () {\r\n    scrollEnd = $(\"html, body\").scrollTop();\r\n    if (((scrollEnd > (scrollStart + 100)) || ((scrollEnd < (scrollStart - 100)))) && state == true) {\r\n      toggleModal();\r\n    }\r\n  });\r\n\r\n  //функции\r\n  function scrollInit() {\r\n    list.niceScroll({\r\n      cursorcolor: cursorcolorVar,\r\n      cursorwidth: cursorwidthVar,\r\n      cursorborder: cursorborderVar,\r\n      cursorborderradius: cursorborderradiusVar,\r\n      zindex: zindexVar,\r\n      bouncescroll: bouncescrollVar,\r\n      autohidemode: false\r\n    });\r\n  };\r\n\r\n  //открытие или закрытие модалки\r\n  function toggleModal() {\r\n    scrollStart = $(\"html, body\").scrollTop();\r\n    cityBlock.toggleClass(\"search-city_visible\");\r\n    if (cityBlock.hasClass(\"search-city_visible\")) {\r\n      openbutton.addClass('mobile-button_active');\r\n      textInput.val(\"\");\r\n      searchCity();\r\n      cityBlock.fadeIn(300);\r\n      state = true;\r\n      scrollInit();\r\n      list.getNiceScroll().resize();\r\n    } else {\r\n      openbutton.removeClass('mobile-button_active');\r\n      cityBlock.fadeOut(300);\r\n      state = false;\r\n    }\r\n  };\r\n\r\n  //поиск\r\n  function searchCity() {\r\n    inputVal = textInput.val().toLowerCase();\r\n    if (inputVal.length >= 1) {\r\n      item.removeClass(\"search-city__item_active\");\r\n      item.each(function () {\r\n        value = $(this).attr('data-city').toLowerCase();\r\n        if (value.search(inputVal) != -1) {\r\n          $(this).addClass('search-city__item_active');\r\n        }\r\n      })\r\n      quantity = $(\".search-city__item_city.search-city__item_active\").length;\r\n      if (quantity < 1) {\r\n        falseText.addClass(\"search-city__item_active\");\r\n      } else {\r\n        falseText.removeClass(\"search-city__item_active\");\r\n      }\r\n    } else {\r\n      item.addClass(\"search-city__item_active\");\r\n      falseText.removeClass(\"search-city__item_active\");\r\n    }\r\n    list.getNiceScroll().resize();\r\n  };\r\n}\r\n//image-cover-box\r\nfunction cover() {\r\n  $('.cover-box').each(function () {\r\n    //set size\r\n    var th = $(this).height(), //box height\r\n      tw = $(this).width(), //box width\r\n      im = $(this).children('img'), //image\r\n      ih = im.height(),\r\n      iw = im.width();\r\n    if ((tw / th) >= (iw / ih)) {\r\n      im.addClass('ww').removeClass('wh');\r\n    } else {\r\n      im.addClass('wh').removeClass('ww');\r\n    }\r\n  });\r\n}\r\n\r\n//nav\r\nfunction nav() {\r\n  var navButton = $('.sub-nav__nav-open, .nav__close, .overlay'),\r\n    nav = $('.nav'),\r\n    navLink = $('.nav__link'),\r\n    overlay = $('.overlay'),\r\n    scrollLink = $('.scroll-link');\r\n\r\n  navButton.click(function (event) {\r\n    event.preventDefault();\r\n    nav.toggleClass('nav_active');\r\n    navState();\r\n  })\r\n\r\n  function navState() {\r\n    if (nav.hasClass('nav_active')) {\r\n      overlay.fadeIn(300);\r\n      scrollLock.hide($(\"body\"));\r\n      $('.page').addClass('page_fixed');\r\n    } else {\r\n      overlay.fadeOut(300);\r\n      scrollLock.show($(\"body\"));\r\n      $('.page').removeClass('page_fixed');\r\n    }\r\n  }\r\n  $(window).resize(function () {\r\n    if (innerWidth > 992) {\r\n      nav.removeClass('nav_active');\r\n      navState();\r\n    }\r\n  });\r\n  navLink.on('click', function () {\r\n    if (innerWidth < 993) {\r\n      nav.removeClass('nav_active');\r\n      navState();\r\n    }\r\n  })\r\n\r\n  //якорные ссылки\r\n  scrollLink.click(function (event) {\r\n    var id = $(this).attr('href'),\r\n      top = $(id).offset().top;\r\n    event.preventDefault();\r\n\r\n    if (innerWidth < 993) {\r\n      nav.removeClass('nav_active');\r\n      navState();\r\n      setTimeout(function () {\r\n        $('body,html').animate({\r\n          scrollTop: top\r\n        }, 400);\r\n      }, 300)\r\n    } else {\r\n      $('body,html').animate({\r\n        scrollTop: top\r\n      }, 400);\r\n    }\r\n  })\r\n}\r\n//lazy\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    visibleOnly: true,\r\n    threshold: '',\r\n    effect: 'fadeIn',\r\n    effectTime: '300',\r\n    defaultImage: false\r\n  });\r\n}\r\n//tooltips\r\nfunction tooltip() {\r\n  $('.tooltip').tooltipster({\r\n    theme: 'tooltipster-light',\r\n    trigger: 'custom',\r\n    animationDuration: 100,\r\n    trackerInterval: 100,\r\n    triggerOpen: {\r\n      click: true, // For mouse\r\n      touchstart: true, // For touch device\r\n      mouseenter: true // For touch device\r\n    },\r\n    triggerClose: {\r\n      click: true, // For mouse\r\n      touchleave: true, // For touch device\r\n      mouseleave: true // For mouse\r\n    }\r\n  });\r\n}\r\n\r\nfunction slider() {\r\n  var slider = $('.slider');\r\n\r\n  slider.on('init', function () {\r\n    $(this).addClass('slider_visible')\r\n  });\r\n\r\n  slider.each(function () {\r\n    var slideCount = 1,\r\n      slidesPerRow = 1,\r\n      slideCount1200 = 1,\r\n      slidesPerRow1200 = 1,\r\n      slideCount992 = 1,\r\n      slidesPerRow992 = 1,\r\n      slideCount768 = 1,\r\n      slidesPerRow768 = 1,\r\n      slideCount576 = 1,\r\n      slidesPerRow576 = 1,\r\n      slideCount420 = 1,\r\n      slidesPerRow420 = 1,\r\n      rows = 1,\r\n      arrows = false,\r\n      dots = false,\r\n      centerMode = false,\r\n      adaptiveHeight = false;\r\n\r\n    if ($(this).hasClass('slider_dots')) {\r\n      dots = true;\r\n    }\r\n    if ($(this).hasClass('slider_arrows')) {\r\n      arrows = true;\r\n    }\r\n    if ($(this).hasClass('recommendations-slider')) {\r\n      slideCount = 6;\r\n      slideCount1200 = 5;\r\n      slideCount992 = 4;\r\n      slideCount768 = 3;\r\n      slideCount576 = 2;\r\n      slideCount420 = 1;\r\n    }\r\n    if ($(this).hasClass('barbers__slider')) {\r\n      slideCount = 4;\r\n      slideCount1200 = 4;\r\n      slideCount992 = 3;\r\n      slideCount768 = 2;\r\n      slideCount576 = 1;\r\n      slideCount420 = 1;\r\n    }\r\n    if ($(this).hasClass('banner__slider')) {\r\n      centerMode = true;\r\n    }\r\n    if ($(this).hasClass('portfolio__slider')) {\r\n      slidesPerRow = 4;\r\n      rows = 2;\r\n      slidesPerRow1200 = 4;\r\n      slidesPerRow992 = 3;\r\n      slidesPerRow768 = 3;\r\n      slidesPerRow576 = 2;\r\n      slidesPerRow420 = 2;\r\n    }\r\n    if ($(this).hasClass('awards__slider')) {\r\n      slideCount = 5;\r\n      slideCount1200 = 5;\r\n      slideCount992 = 4;\r\n      slideCount768 = 3;\r\n      slideCount576 = 2;\r\n      slideCount420 = 2;\r\n      adaptiveHeight = true;\r\n    }\r\n\r\n    $(this).slick({\r\n      infinite: true,\r\n      dots: dots,\r\n      arrows: arrows,\r\n      speed: 600,\r\n      lazyLoad: 'ondemand',\r\n      adaptiveHeight: adaptiveHeight,\r\n      centerMode: centerMode,\r\n      slidesToShow: slideCount,\r\n      slidesToScroll: slideCount,\r\n      slidesPerRow: slidesPerRow,\r\n      rows: rows,\r\n      responsive: [{\r\n          breakpoint: 1200,\r\n          settings: {\r\n            slidesToShow: slideCount1200,\r\n            slidesToScroll: slideCount1200,\r\n            slidesPerRow: slidesPerRow1200\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 992,\r\n          settings: {\r\n            slidesToShow: slideCount992,\r\n            slidesToScroll: slideCount992,\r\n            slidesPerRow: slidesPerRow992\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 768,\r\n          settings: {\r\n            slidesToShow: slideCount768,\r\n            slidesToScroll: slideCount768,\r\n            slidesPerRow: slidesPerRow768\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 576,\r\n          settings: {\r\n            slidesToShow: slideCount576,\r\n            slidesToScroll: slideCount576,\r\n            slidesPerRow: slidesPerRow576\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 420,\r\n          settings: {\r\n            slidesToShow: slideCount420,\r\n            slidesToScroll: slideCount420,\r\n            slidesPerRow: slidesPerRow420\r\n          }\r\n        }\r\n      ]\r\n    });\r\n  });\r\n}\r\n//gallery\r\nfunction gallery() {\r\n  var row = $('.gallery__row:not(:first-child)'),\r\n    block = $('.gallery-block'),\r\n    title = $('.gallery-block_title'),\r\n    margin;\r\n\r\n  if (innerWidth > 576) {\r\n    block.css('margin-top', '0');\r\n    row.each(function () {\r\n      margin = -($(this).height() / 2);\r\n      $(this).css('margin-top', margin);\r\n    })\r\n  } else {\r\n    row.css('margin-top', '0');\r\n    block.each(function () {\r\n      margin = -($(this).height() / 2);\r\n      $(this).css('margin-top', margin);\r\n    })\r\n  }\r\n}\r\n//num\r\nfunction showNum() {\r\n  var num = '999-99-99',\r\n    $toggleBtn = $('.number-block__show-btn');\r\n\r\n  $toggleBtn.on('click', function () {\r\n    $(this).parents('.number-block').find('span').text(num);\r\n    $(this).remove();\r\n  })\r\n}\r\n\r\n//share-trigger\r\nfunction share() {\r\n  var $shareTrigger = $('.share-trigger'),\r\n    $shareBlock = $('.share-area'),\r\n    $shareClose = $('.share-area__close'),\r\n    $shareContent = $('.share-area__content'),\r\n    $shareWrap = $('.share-area__wrap'),\r\n    visible,\r\n    interval,\r\n    loaded = false;\r\n\r\n  $shareTrigger.on('click', function (e) {\r\n    e.preventDefault();\r\n    shareOpen();\r\n  })\r\n  $shareClose.on('click', function (e) {\r\n    e.preventDefault();\r\n    shareClose();\r\n  })\r\n\r\n\r\n  function shareOpen() {\r\n    $shareBlock.fadeIn(200);\r\n    visible = true;\r\n    pos();\r\n    getSocials();\r\n    resize();\r\n  }\r\n\r\n  function shareClose() {\r\n    $shareBlock.fadeOut(200);\r\n    visible = false;\r\n    resize();\r\n  }\r\n\r\n  function pos() {\r\n    var headerHeight = $('.header').height(),\r\n      scroll = $(window).scrollTop();\r\n\r\n    console.log(scroll, headerHeight)\r\n\r\n    if (scroll < headerHeight) {\r\n      $shareBlock.css({\r\n        'position': 'absolute',\r\n        'top': headerHeight\r\n      });\r\n    } else {\r\n      $shareBlock.css({\r\n        'position': 'fixed',\r\n        'top': '0'\r\n      });\r\n    }\r\n  }\r\n\r\n  function resize() {\r\n    if (visible == true) {\r\n      interval = setInterval(function () {\r\n        $shareContent.width($shareWrap.width());\r\n        $shareContent.height($shareWrap.height());\r\n      }, 50);\r\n    } else {\r\n      clearInterval(interval);\r\n    }\r\n  }\r\n\r\n  function getSocials() {\r\n    if (!loaded) {\r\n      //vk\r\n      $.getScript('https://vk.com/js/api/openapi.js?160', function () {\r\n        VK.init({\r\n          apiId: 6968173,\r\n          onlyWidgets: true\r\n        });\r\n        VK.Widgets.Like(\"vk_like\", {\r\n          type: \"mini\",\r\n          height: 30\r\n        });\r\n      });\r\n      //fb\r\n      $('body').prepend('<script async defer crossorigin=\"anonymous\" src=\"https://connect.facebook.net/ru_RU/sdk.js#xfbml=1&version=v3.3\"></script>');\r\n      //ok\r\n      ! function (d, id, did, st, title, description, image) {\r\n        var js = d.createElement(\"script\");\r\n        js.src = \"https://connect.ok.ru/connect.js\";\r\n        js.onload = js.onreadystatechange = function () {\r\n          if (!this.readyState || this.readyState == \"loaded\" || this.readyState == \"complete\") {\r\n            if (!this.executed) {\r\n              this.executed = true;\r\n              setTimeout(function () {\r\n                OK.CONNECT.insertShareWidget(id, did, st, title, description, image);\r\n              }, 0);\r\n            }\r\n          }\r\n        };\r\n        d.documentElement.appendChild(js);\r\n      }(document, \"ok_shareWidget\", document.URL, '{\"sz\":30,\"st\":\"oval\",\"ck\":1}', \"\", \"\", \"\");\r\n      loaded = true;\r\n    }\r\n  }\r\n\r\n\r\n  $(window).on('scroll resize', function () {\r\n    pos();\r\n  });\r\n}\r\n\r\n//popup\r\nfunction popup() {\r\n\r\n  $(\".popup-link\").fancybox({\r\n    autoFocus: false,\r\n    loop: true\r\n  });\r\n  \r\n  $(\".modal-link\").fancybox({\r\n    autoFocus: false,\r\n    smallBtn: true,\r\n    touch: false\r\n  });\r\n\r\n  $('.gallery__item a').on('click', function() {\r\n    var $selector = $(this).parents('.gallery').find('.slick-slide:not(.slick-cloned) a');\r\n\r\n    $.fancybox.open( $selector, {\r\n        selector : $selector,\r\n        backFocus : false,\r\n        loop: true,\r\n        animationEffect: \"fade\"\r\n    }, $selector.index( this ) );\r\n\r\n    return false;\r\n  });\r\n  \r\n\r\n\r\n  $('body').removeClass('compensate-for-scrollbar');\r\n}"]}