{"version":3,"sources":["common.js"],"names":["$","document","ready","lazy","tooltip","nav","slider","gallery","showNum","share","popup","autoHeight","checkbox","fadeInWindows","scrollbar","window","resize","innerWidth","$checkbox","width","$slider","$scroll","cursorcolor","niceScroll","cursorwidth","cursorborder","cursorborderradius","zindex","bouncescroll","autohidemode","$input","$resaultItem","find","$container","$message","createElement","className","innerHTML","inputVal","length","hide","val","toLowerCase","count","each","search","this","text","show","append","remove","getNiceScroll","posY","$window","old","undefined","$btn","el","fadeOut","removeClass","current","addClass","event","preventDefault","target","closest","posX","offset","attr","top","height","left","css","hasClass","right","$nav","$navToggle","toggleClass","navState","$overlay","scrollLock","on","imagesResize","Lazy","effectTime","threshold","imageBase","defaultImage","afterLoad","element","parent","setTimeout","box","imgH","tooltipster","boxH","boxW","triggerOpen","click","theme","touchstart","animationDuration","mouseenter","triggerClose","touchleave","mouseleave","slidesPerRow","slideCount1200","slidesPerRow1200","slideCount992","slidesPerRow992","slideCount768","slidesPerRow768","slideCount576","slidesPerRow576","slideCount420","slidesPerRow420","rows","arrows","dots","centerMode","adaptiveHeight","slideCount","speed","lazyLoad","slick","infinite","slidesToShow","slidesToScroll","responsive","breakpoint","settings","margin","row","block","$toggleBtn","parents","visible","interval","$shareTrigger","$shareBlock","$shareClose","$shareContent","$shareWrap","loaded","headerHeight","scroll","scrollTop","position","setInterval","clearInterval","e","d","src","fadeIn","pos","getSocials","VK","apiId","onlyWidgets","type","Like","prepend","appendChild","URL","js","onload","onreadystatechange","readyState","executed","OK","CONNECT","insertShareWidget","documentElement","did","is","has","funcybox","fancybox","defaults","btnTpl","close","zoom","smallBtn","CLOSE","ERROR","download","FULL_SCREEN","slideShow","ZOOM","loop","thumbs","i18n","ru","NEXT","PREV","autoFocus","PLAY_STOP","touch","$selector","lang","selector","$block","parseInt","mh","h_block","backFocus","animationEffect","checkboxCheck","prop","console","log"],"mappings":"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","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\r\n  lazy();\r\n  tooltip();\r\n  nav();\r\n  slider();\r\n  gallery();\r\n  showNum();\r\n  share();\r\n  popup();\r\n  autoHeight();\r\n  checkbox();\r\n  fadeInWindows();\r\n  scrollbar();\r\n  searchCity();\r\n  funcybox();\r\n});\r\n\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n  gallery();\r\n  autoHeight();\r\n  $('img').each(function() {\r\n    //imagesResize($(this))\r\n  });\r\n});\r\n\r\n//global variables\r\nlet innerWidth = $('.wrapper').width(),\r\n    $checkbox = $('.checkbox'),\r\n    $slider = $('.slider'),\r\n    $scroll = $('.scroll-area');\r\n\r\nfunction scrollbar() {\r\n  $('.scroll-area').niceScroll({\r\n    cursorcolor: \"#fff\",\r\n    cursorwidth: \"5px\",\r\n    cursorborder: \"0\",\r\n    cursorborderradius: \"0\",\r\n    zindex: [100],\r\n    bouncescroll: false,\r\n    autohidemode: false\r\n  });\r\n}\r\n\r\n//поиск\r\nfunction searchCity() {\r\n  let $input = $('#windowCity').find('.input'),\r\n      $resaultItem = $('#windowCity').find('.popup-window__item'),\r\n      $container = $('#windowCity').find('.popup-window__list'),\r\n      $message = document.createElement('li');\r\n\r\n  $message.className = 'popup-window__item';\r\n  $message.innerHTML = '<span>Совпадений не найдено!</span>';\r\n\r\n  //события\r\n  $input.on('input', function() {\r\n    let inputVal = $input.val().toLowerCase();\r\n\r\n    if(inputVal.length >= 1) {\r\n      $resaultItem.hide();\r\n      let count = 0;\r\n      $resaultItem.each(function() {\r\n        let itemVal = $(this).find('a').text().toLowerCase();\r\n        if(itemVal.search(inputVal) !== -1) {\r\n          count++;\r\n          $(this).show();\r\n        }\r\n      })\r\n      if(count==0) {\r\n        $container.append($message);\r\n      } else {\r\n        $message.remove();\r\n      }\r\n    } \r\n    else {\r\n      $message.remove();\r\n      $resaultItem.show();\r\n    }\r\n    $scroll.getNiceScroll().resize();\r\n  });\r\n}\r\n\r\n//всплывающие окна\r\nfunction fadeInWindows() {\r\n  let posY,\r\n      posX;\r\n  \r\n  let $window = {\r\n    old: {\r\n      el: undefined,\r\n      hide: function(){\r\n        $(this.el).fadeOut(200);\r\n        $(this.el).removeClass('active');\r\n        $btn.el.removeClass('active');\r\n      }\r\n    },\r\n    current: {\r\n      el: undefined,\r\n      hide: function() {\r\n        $(this.el).fadeOut(200);\r\n        $(this.el).removeClass('active');\r\n        $btn.el.removeClass('active');\r\n      },\r\n      show: function() {\r\n        $(this.el).fadeIn(200);\r\n        $(this.el).addClass('active');\r\n        $btn.current.el.addClass('active');\r\n        $scroll.getNiceScroll().resize();\r\n        $window.old.el = $window.current.el;\r\n      }\r\n    }\r\n  };\r\n  let $btn = {\r\n    className: 'windowOpenButton',\r\n    el: $('.windowOpenButton'),\r\n    current: {\r\n      el: undefined\r\n    }\r\n  }\r\n\r\n  $(document).on('click touchstart mousedown touchend', function(event) {\r\n\r\n    //function\r\n    if($(event.target).closest($btn.el).length > 0) {\r\n      if(event.type=='click') {\r\n        event.preventDefault();\r\n        $btn.current.el = $(event.target).closest($btn.el);\r\n        $window.current.el = $($btn.current.el.attr('href'));\r\n\r\n        if(innerWidth>1024) { \r\n          posY = $btn.current.el.offset().top + $btn.current.el.height() + 2;\r\n          posX = innerWidth - ($btn.current.el.offset().left + $btn.current.el.width()) + 4;\r\n        } else {\r\n          posY = $('.header').height();\r\n          posX = 0;\r\n        }\r\n\r\n        $window.current.el.css({'top':posY, 'right':posX});\r\n\r\n        if($window.current.el.hasClass('active')) {\r\n          $window.current.hide();\r\n        } else {\r\n          if($window.old.el!==undefined && $window.old.el.hasClass('active')) {\r\n            $window.old.hide();\r\n          }\r\n          $window.current.show();\r\n        }\r\n      } \r\n    } \r\n    else if($window.current.el!==undefined && $window.current.el.hasClass('active') && $(event.target).closest($window.current.el).length == 0) {\r\n      $window.current.hide();\r\n    }\r\n  })\r\n}\r\n\r\n\r\n//nav\r\nfunction nav() {\r\n  var $navToggle = $('.sub-nav__nav-open, .nav__close'),\r\n    $overlay = $('.overlay'),\r\n    $nav = $('.nav');\r\n\r\n  $navToggle.on('click', function (event) {\r\n    event.preventDefault();\r\n    $nav.toggleClass('active');\r\n    navState();\r\n  })\r\n  \r\n  $overlay.on('click touchstart', function () {\r\n    $nav.removeClass('active');\r\n    navState();\r\n  })\r\n\r\n  function navState() {\r\n    if ($nav.hasClass('active')) {\r\n      $overlay.fadeIn(300);\r\n      scrollLock.hide($(\"body\"));\r\n      $('.page').addClass('active');\r\n    } else {\r\n      $overlay.fadeOut(300);\r\n      scrollLock.show($(\"body\"));\r\n      $('.page').removeClass('active');\r\n    }\r\n  }\r\n\r\n  $(window).resize(function () {\r\n    if (innerWidth > 1024) {\r\n      $nav.removeClass('active');\r\n      navState();\r\n    }\r\n  });\r\n\r\n  /* navLink.on('click', function () {\r\n    if (innerWidth < 993) {\r\n      $nav.removeClass('nav_active');\r\n      navState();\r\n    }\r\n  }) */\r\n\r\n  /* //якорные ссылки\r\n  scrollLink.click(function (event) {\r\n    var id = $(this).attr('href'),\r\n      top = $(id).offset().top;\r\n    event.preventDefault();\r\n\r\n    if (innerWidth < 993) {\r\n      $nav.removeClass('nav_active');\r\n      navState();\r\n      setTimeout(function () {\r\n        $('body,html').animate({\r\n          scrollTop: top\r\n        }, 400);\r\n      }, 300)\r\n    } else {\r\n      $('body,html').animate({\r\n        scrollTop: top\r\n      }, 400);\r\n    }\r\n  }) */\r\n}\r\n\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    effectTime: 0,\r\n    threshold: 500,\r\n    imageBase: false,\r\n    defaultImage: false,\r\n    afterLoad: function(element) {\r\n      imagesResize(element);\r\n    }\r\n  });\r\n}\r\nfunction imagesResize(element) {\r\n  let box = element.parent();\r\n\r\n  if(!box.hasClass('cover-box_size-auto')) {\r\n    let boxH = box.height(),\r\n        boxW = box.width();\r\n\r\n    setTimeout(function() {\r\n      let imgH = element.height(),\r\n          imgW = element.width();\r\n\r\n      if ((boxW / boxH) >= (imgW / imgH)) {\r\n        element.addClass('ww').removeClass('wh');\r\n      } else {\r\n        element.addClass('wh').removeClass('ww');\r\n      }\r\n      element.addClass('visible');\r\n    }, 100)\r\n  } else {\r\n    element.addClass('visible');\r\n  }\r\n}\r\n\r\n//tooltips\r\nfunction tooltip() {\r\n  $('.tooltip').tooltipster({\r\n    theme: 'tooltipster-light',\r\n    trigger: 'custom',\r\n    animationDuration: 100,\r\n    trackerInterval: 100,\r\n    triggerOpen: {\r\n      click: true, // For mouse\r\n      touchstart: true, // For touch device\r\n      mouseenter: true // For touch device\r\n    },\r\n    triggerClose: {\r\n      click: true, // For mouse\r\n      touchleave: true, // For touch device\r\n      mouseleave: true // For mouse\r\n    }\r\n  });\r\n}\r\n\r\nfunction slider() {\r\n  $slider.on('init', function () {\r\n    $(this).addClass('slider_visible')\r\n  });\r\n\r\n  $slider.each(function () {\r\n    $(this).on('init beforeChange afterChange', function(){\r\n      lazy();\r\n    });\r\n    var slideCount = 1,\r\n      slidesPerRow = 1,\r\n      slideCount1200 = 1,\r\n      slidesPerRow1200 = 1,\r\n      slideCount992 = 1,\r\n      slidesPerRow992 = 1,\r\n      slideCount768 = 1,\r\n      slidesPerRow768 = 1,\r\n      slideCount576 = 1,\r\n      slidesPerRow576 = 1,\r\n      slideCount420 = 1,\r\n      slidesPerRow420 = 1,\r\n      rows = 1,\r\n      arrows = false,\r\n      dots = false,\r\n      centerMode = false,\r\n      adaptiveHeight = false;\r\n\r\n    if ($(this).hasClass('slider_dots')) {\r\n      dots = true;\r\n    }\r\n    if ($(this).hasClass('slider_arrows')) {\r\n      arrows = true;\r\n    }\r\n    if ($(this).hasClass('recommendations-slider')) {\r\n      slideCount = 6;\r\n      slideCount1200 = 5;\r\n      slideCount992 = 4;\r\n      slideCount768 = 3;\r\n      slideCount576 = 2;\r\n      slideCount420 = 1;\r\n    }\r\n    if ($(this).hasClass('barbers__slider')) {\r\n      slideCount = 4;\r\n      slideCount1200 = 4;\r\n      slideCount992 = 3;\r\n      slideCount768 = 2;\r\n      slideCount576 = 1;\r\n      slideCount420 = 1;\r\n    }\r\n    if ($(this).hasClass('banner__slider')) {\r\n      centerMode = true;\r\n    }\r\n    if ($(this).hasClass('portfolio__slider')) {\r\n      slidesPerRow = 4;\r\n      rows = 2;\r\n      slidesPerRow1200 = 4;\r\n      slidesPerRow992 = 3;\r\n      slidesPerRow768 = 3;\r\n      slidesPerRow576 = 2;\r\n      slidesPerRow420 = 2;\r\n    }\r\n    if ($(this).hasClass('awards__slider')) {\r\n      slideCount = 5;\r\n      slideCount1200 = 5;\r\n      slideCount992 = 4;\r\n      slideCount768 = 3;\r\n      slideCount576 = 2;\r\n      slideCount420 = 2;\r\n      adaptiveHeight = true;\r\n    }\r\n\r\n    if ($(this).hasClass('publications__slider')) {\r\n      slidesPerRow = 2;\r\n      rows = 2;\r\n      slidesPerRow1200 = 2;\r\n      slidesPerRow992 = 1;\r\n      slidesPerRow768 = 1;\r\n      slidesPerRow576 = 1;\r\n      slidesPerRow420 = 1;\r\n      adaptiveHeight = true;\r\n    }\r\n\r\n    $(this).slick({\r\n      infinite: true,\r\n      dots: dots,\r\n      arrows: arrows,\r\n      speed: 600,\r\n      lazyLoad: 'ondemand',\r\n      adaptiveHeight: adaptiveHeight,\r\n      centerMode: centerMode,\r\n      slidesToShow: slideCount,\r\n      slidesToScroll: slideCount,\r\n      slidesPerRow: slidesPerRow,\r\n      rows: rows,\r\n      responsive: [{\r\n          breakpoint: 1200,\r\n          settings: {\r\n            slidesToShow: slideCount1200,\r\n            slidesToScroll: slideCount1200,\r\n            slidesPerRow: slidesPerRow1200\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 992,\r\n          settings: {\r\n            slidesToShow: slideCount992,\r\n            slidesToScroll: slideCount992,\r\n            slidesPerRow: slidesPerRow992\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 768,\r\n          settings: {\r\n            slidesToShow: slideCount768,\r\n            slidesToScroll: slideCount768,\r\n            slidesPerRow: slidesPerRow768\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 576,\r\n          settings: {\r\n            slidesToShow: slideCount576,\r\n            slidesToScroll: slideCount576,\r\n            slidesPerRow: slidesPerRow576\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 420,\r\n          settings: {\r\n            slidesToShow: slideCount420,\r\n            slidesToScroll: slideCount420,\r\n            slidesPerRow: slidesPerRow420\r\n          }\r\n        }\r\n      ]\r\n    });\r\n  });\r\n  //fix\r\n  $('.publications-slide').parent().css('display', 'flex');\r\n}\r\n//gallery\r\nfunction gallery() {\r\n  var row = $('.gallery__row:not(:first-child)'),\r\n    block = $('.gallery-block'),\r\n    title = $('.gallery-block_title'),\r\n    margin;\r\n\r\n  if (innerWidth > 576) {\r\n    block.css('margin-top', '0');\r\n    row.each(function () {\r\n      margin = -($(this).height() / 2);\r\n      $(this).css('margin-top', margin);\r\n    })\r\n  } else {\r\n    row.css('margin-top', '0');\r\n    block.each(function () {\r\n      margin = -($(this).height() / 2);\r\n      $(this).css('margin-top', margin);\r\n    })\r\n  }\r\n}\r\n//num\r\nfunction showNum() {\r\n  var num = '999-99-99',\r\n    $toggleBtn = $('.number-block__show-btn');\r\n\r\n  $toggleBtn.on('click', function () {\r\n    $(this).parents('.number-block').find('span').text(num);\r\n    $(this).remove();\r\n  })\r\n}\r\n\r\n//share-trigger\r\nfunction share() {\r\n  var $shareTrigger = $('.share-trigger'),\r\n    $shareBlock = $('.share-area'),\r\n    $shareClose = $('.share-area__close'),\r\n    $shareContent = $('.share-area__content'),\r\n    $shareWrap = $('.share-area__wrap'),\r\n    visible,\r\n    interval,\r\n    loaded = false;\r\n\r\n  $shareTrigger.on('click', function (e) {\r\n    e.preventDefault();\r\n    shareOpen();\r\n  })\r\n  $(document).on('click touchstart', function (e) {\r\n    if ($shareClose.is(e.target) || !$shareTrigger.is(e.target) && !$shareBlock.is(e.target) && $shareBlock.has(e.target).length === 0) {\r\n      shareClose();\r\n    }\r\n  });\r\n\r\n\r\n  function shareOpen() {\r\n    $shareBlock.fadeIn(200);\r\n    visible = true;\r\n    pos();\r\n    getSocials();\r\n    resize();\r\n  }\r\n\r\n  function shareClose() {\r\n    $shareBlock.fadeOut(200);\r\n    visible = false;\r\n    resize();\r\n  }\r\n\r\n  function pos() {\r\n    var headerHeight = $('.header').height(),\r\n      scroll = $(window).scrollTop();\r\n\r\n    if (scroll < headerHeight) {\r\n      $shareBlock.css({\r\n        'position': 'absolute',\r\n        'top': headerHeight\r\n      });\r\n    } else {\r\n      $shareBlock.css({\r\n        'position': 'fixed',\r\n        'top': '0'\r\n      });\r\n    }\r\n  }\r\n\r\n  function resize() {\r\n    if (visible == true) {\r\n      interval = setInterval(function () {\r\n        $shareContent.width($shareWrap.width());\r\n        $shareContent.height($shareWrap.height());\r\n      }, 50);\r\n    } else {\r\n      clearInterval(interval);\r\n    }\r\n  }\r\n\r\n  function getSocials() {\r\n    if (!loaded) {\r\n      //vk\r\n      $.getScript('https://vk.com/js/api/openapi.js?160', function () {\r\n        VK.init({\r\n          apiId: 6968173,\r\n          onlyWidgets: true\r\n        });\r\n        VK.Widgets.Like(\"vk_like\", {\r\n          type: \"mini\",\r\n          height: 30\r\n        });\r\n      });\r\n      //fb\r\n      $('body').prepend('<script async defer crossorigin=\"anonymous\" src=\"https://connect.facebook.net/ru_RU/sdk.js#xfbml=1&version=v3.3\"></script>');\r\n      //ok\r\n      ! function (d, id, did, st, title, description, image) {\r\n        var js = d.createElement(\"script\");\r\n        js.src = \"https://connect.ok.ru/connect.js\";\r\n        js.onload = js.onreadystatechange = function () {\r\n          if (!this.readyState || this.readyState == \"loaded\" || this.readyState == \"complete\") {\r\n            if (!this.executed) {\r\n              this.executed = true;\r\n              setTimeout(function () {\r\n                OK.CONNECT.insertShareWidget(id, did, st, title, description, image);\r\n              }, 0);\r\n            }\r\n          }\r\n        };\r\n        d.documentElement.appendChild(js);\r\n      }(document, \"ok_shareWidget\", document.URL, '{\"sz\":30,\"st\":\"oval\",\"ck\":1}', \"\", \"\", \"\");\r\n      loaded = true;\r\n    }\r\n  }\r\n\r\n\r\n  $(window).on('scroll resize', function () {\r\n    pos();\r\n  });\r\n}\r\n\r\nfunction funcybox() {\r\n  $.fancybox.defaults.btnTpl.close = '<button data-fancybox-close class=\"fancybox-button fancybox-button--close\" title=\"{{CLOSE}}\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.6 13.6\"><path d=\"M6.8 5.4L1.4 0 0 1.4l5.4 5.4L0 12.2l1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4L12.2 0z\"></path></svg>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.arrowLeft = '<button data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_left\" title=\"{{PREV}}\">' +\r\n  '<div><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14 10.14\"><path d=\"M6.28 8.77l-1.34 1.37L0 5.07 4.94 0l1.34 1.38L3.6 4.1H14v1.94H3.6z\"></path></svg></div>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.arrowRight = '<button data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_right\" title=\"{{PREV}}\">' +\r\n  '<div><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14 10.14\"><path d=\"M10.4 6.04L7.72 8.76l1.34 1.38L14 5.07 9.06 0 7.72 1.38 10.4 4.1H0v1.94z\"></path></svg></div>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.zoom = '<button data-fancybox-zoom class=\"fancybox-button fancybox-button--zoom\" title=\"{{ZOOM}}\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.056 14.096\"> <path d=\"M13.756 12.356l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zm-10.6-3.5a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z\"></path> </svg>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.download = '<a download data-fancybox-download class=\"fancybox-button fancybox-button--download\" title=\"{{DOWNLOAD}}\" href=\"javascript:;\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.24 14\"> <path d=\"M13.24 12.09V14H0v-1.91zm-2.97-6.96l1.35 1.32-5 4.87-5-4.87 1.36-1.32 2.68 2.64V0h1.92v7.77z\"></path> </svg>' +\r\n  \"</a>\";\r\n  $.fancybox.defaults.btnTpl.slideShow = '<button data-fancybox-play class=\"fancybox-button fancybox-button--play\" title=\"{{PLAY_START}}\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11 13.2\"> <path d=\"M0 0v13.2l11-6.6z\"></path></svg>' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 7.35 12.5\" id=\"slideshow\"><path d=\"M0 0h2.2v12.5H0zm5.15 0h2.2v12.5h-2.2z\"></path></svg>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.smallBtn = '<button type=\"button\" data-fancybox-close class=\"fancybox-button fancybox-close-small\" title=\"{{CLOSE}}\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.6 13.6\"><path d=\"M6.8 5.4L1.4 0 0 1.4l5.4 5.4L0 12.2l1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4L12.2 0z\"></path></svg>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.btnTpl.thumbs = '<button data-fancybox-thumbs class=\"fancybox-button fancybox-button--thumbs\" title=\"{{THUMBS}}\">' +\r\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 12.7 12.7\" id=\"slideshow\"><path d=\"M8.94 8.94h3.76v3.76H8.94zm-4.47 0h3.76v3.76H4.47zM0 8.94h3.76v3.76H0zm8.94-4.47h3.76v3.76H8.94zm-4.47 0h3.76v3.76H4.47zM0 4.47h3.76v3.76H0zM8.94 0h3.76v3.76H8.94zM4.47 0h3.76v3.76H4.47zM0 0h3.76v3.76H0z\"></path></svg>' +\r\n  \"</button>\";\r\n  $.fancybox.defaults.i18n.ru = {\r\n    CLOSE       : 'Закрыть',\r\n    NEXT        : 'Следующий слайд',\r\n    PREV        : 'Предидущий слайд',\r\n    ERROR       : 'Ошибка загрузки, попробуйте позже.',\r\n    PLAY_START  : 'Запустить слайд-шоу',\r\n    PLAY_STOP   : 'Остановить слайд-шоу',\r\n    FULL_SCREEN : 'Полноэкранный режим',\r\n    THUMBS      : 'Миниатюры',\r\n    DOWNLOAD    : 'Загрузить',\r\n    SHARE       : 'Поделиться',\r\n    ZOOM        : 'Увеличить'\r\n  };\r\n  $.fancybox.defaults.lang = 'ru';\r\n  $.fancybox.defaults.loop = true;\r\n  $.fancybox.defaults.autoFocus = false;\r\n}\r\n\r\n//popup\r\nfunction popup() {\r\n\r\n  $(\".popup-link\").fancybox({\r\n    autoFocus: false,\r\n    loop: true\r\n  });\r\n  \r\n  $(\".modal-link\").fancybox({\r\n    autoFocus: false,\r\n    smallBtn: true,\r\n    touch: false\r\n  });\r\n\r\n  $('.gallery__item a').on('click', function() {\r\n    var $selector = $(this).parents('.gallery').find('.slick-slide:not(.slick-cloned) a');\r\n\r\n    $.fancybox.open( $selector, {\r\n        selector : $selector,\r\n        backFocus : false,\r\n        loop: true,\r\n        animationEffect: \"fade\"\r\n    }, $selector.index( this ) );\r\n\r\n    return false;\r\n  });\r\n}\r\n\r\n//корректировка высоты блоков\r\nfunction autoHeight() {\r\n  var $block = $('.js-auto-height__item');\r\n\r\n  $block.css('height', 'auto');\r\n  //корректировка высоты\r\n  $block.parent().each(function() {\r\n    var mh = 0;\r\n    $(this).find($block).each(function () {\r\n      var h_block = parseInt($(this).height());\r\n      if(h_block > mh) {\r\n         mh = h_block;\r\n      };\r\n    });\r\n    $(this).find($block).height(mh);\r\n  })\r\n}\r\n\r\n//обрабокта кликов\r\nfunction checkbox() {\r\n  $checkbox.on('click', function() {\r\n    checkboxCheck();\r\n  })\r\n}\r\n//в остальных ситуация для изменения вида чекбоксов выполняется эта функция\r\nfunction checkboxCheck() {\r\n  $checkbox.each(function() {\r\n    if($(this).find('input').prop('checked') || $('#' + $(this).attr('for')).prop('checked')) {\r\n      $(this).addClass('checked');\r\n      console.log('1')\r\n    } else {\r\n      $(this).removeClass('checked');\r\n      console.log('2')\r\n    }\r\n  })\r\n}"]}