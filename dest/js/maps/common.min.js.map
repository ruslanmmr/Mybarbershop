{"version":3,"sources":["common.js"],"names":["$","document","ready","lazy","tooltip","nav","cityBlock","slider","gallery","cover","modalMagnificBasket","share","resize","innerWidth","window","cursorcolorVar","cursorwidthVar","cursorborderVar","cursorborderradiusVar","zindexVar","inputVal","state","flag","openbutton","textInput","list","scrollStart","scrollTop","scrollEnd","item","falseText","toggleClass","hasClass","addClass","val","searchCity","fadeIn","cursorwidth","cursorborder","cursorborderradius","zindex","bouncescroll","bouncescrollVar","autohidemode","getNiceScroll","removeClass","fadeOut","toLowerCase","attr","search","value","length","on","e","setTimeout","toggleModal","is","target","has","children","scroll","th","this","height","tw","width","im","ih","each","navButton","navLink","scrollLink","overlay","hide","event","preventDefault","navState","click","scrollLock","show","top","id","offset","animate","Lazy","visibleOnly","threshold","tooltipster","theme","trigger","animationDuration","effect","effectTime","mouseenter","triggerClose","touchleave","mouseleave","trackerInterval","triggerOpen","touchstart","slideCount","slideCount768","slideCount420","dots","centerMode","slideCount1200","slideCount992","slideCount576","arrows","slick","slidesToShow","slidesToScroll","responsive","breakpoint","speed","lazyLoad","settings","margin","css","row","block","magnificPopup","closeBtnInside","close","showNum","find","text","remove","mainClass","$shareTrigger","$shareBlock","pos","headerHeight","console","$shareClose","position","getVk","getScript","VK","init","apiId","onlyWidgets","type","parents"],"mappings":"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","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\r\n  lazy();\r\n  tooltip();\r\n  nav();\r\n  cityBlock();\r\n  slider();\r\n  gallery();\r\n  cover();\r\n  modalMagnificBasket();\r\n  showNum();\r\n  share();\r\n});\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n  gallery();\r\n  cover();\r\n});\r\n\r\n//global variables\r\nvar innerWidth = $('body').innerWidth(),\r\n    //scroll-styling\r\n    cursorcolorVar = \"#fff\",\r\n    cursorwidthVar = \"7px\",\r\n    cursorborderVar = \"0\",\r\n    cursorborderradiusVar = \"0\",\r\n    zindexVar = [100],\r\n    bouncescrollVar = false;\r\n    //\r\n\r\n//city-block\r\nfunction cityBlock() {\r\n  var openbutton = $(\".sub-nav__link_city\"),\r\n  textInput = $('.search-city__input'),\r\n  list = $('.search-city__list'),\r\n  cityBlock = $(\".search-city\"),\r\n  scrollStart = $(\"html, body\").scrollTop(),\r\n  scrollEnd = $(\"html, body\").scrollTop(),\r\n  item = $(\".search-city__item_city\"),\r\n  falseText = $(\".search-city__item_nothing\"),\r\n  inputVal,\r\n  value,\r\n  quantity,\r\n  state,\r\n  flag;\r\n\r\n  //события\r\n  textInput.keyup(function () {\r\n    searchCity();\r\n  });\r\n\r\n  $(document).on('click touchstart', function (e) {\r\n    if (!flag) {\r\n      flag = true;\r\n      setTimeout(function () {\r\n        flag = false;\r\n      }, 300);\r\n      if (!cityBlock.is(e.target) && cityBlock.has(e.target).length === 0 && cityBlock.hasClass(\"search-city_visible\")) {\r\n        toggleModal();\r\n      } else if (openbutton.is(e.target) || openbutton.children().is(e.target)) {\r\n        toggleModal();\r\n      } \r\n    }\r\n  });\r\n\r\n  $(window).scroll(function () {\r\n    scrollEnd = $(\"html, body\").scrollTop();\r\n    if (((scrollEnd > (scrollStart + 100)) || ((scrollEnd < (scrollStart - 100)))) && state == true) {\r\n      toggleModal();\r\n    }\r\n  });\r\n\r\n  //функции\r\n  function scrollInit() {\r\n    list.niceScroll({\r\n      cursorcolor: cursorcolorVar,\r\n      cursorwidth: cursorwidthVar,\r\n      cursorborder: cursorborderVar,\r\n      cursorborderradius: cursorborderradiusVar,\r\n      zindex: zindexVar,\r\n      bouncescroll: bouncescrollVar,\r\n      autohidemode: false\r\n    });\r\n  };\r\n\r\n  //открытие или закрытие модалки\r\n  function toggleModal() {\r\n    scrollStart = $(\"html, body\").scrollTop();\r\n    cityBlock.toggleClass(\"search-city_visible\");\r\n    if (cityBlock.hasClass(\"search-city_visible\")) {\r\n      openbutton.addClass('mobile-button_active');\r\n      textInput.val(\"\");\r\n      searchCity();\r\n      cityBlock.fadeIn(300);\r\n      state = true;\r\n      scrollInit();\r\n      list.getNiceScroll().resize();\r\n    } else {\r\n      openbutton.removeClass('mobile-button_active');\r\n      cityBlock.fadeOut(300);\r\n      state = false;\r\n    }\r\n  };\r\n\r\n  //поиск\r\n  function searchCity() {\r\n    inputVal = textInput.val().toLowerCase();\r\n    if (inputVal.length >= 1) {\r\n      item.removeClass(\"search-city__item_active\");\r\n      item.each(function () {\r\n        value = $(this).attr('data-city').toLowerCase();\r\n        if (value.search(inputVal) != -1) {\r\n          $(this).addClass('search-city__item_active');\r\n        } \r\n      })\r\n      quantity = $(\".search-city__item_city.search-city__item_active\").length;\r\n      if (quantity < 1) {\r\n        falseText.addClass(\"search-city__item_active\");\r\n      } else {\r\n        falseText.removeClass(\"search-city__item_active\");\r\n      }\r\n    } else {\r\n      item.addClass(\"search-city__item_active\");\r\n      falseText.removeClass(\"search-city__item_active\");\r\n    }\r\n    list.getNiceScroll().resize();\r\n  };\r\n}\r\n//image-cover-box\r\nfunction cover() {\r\n  $('.cover-box').each(function() {\r\n    //set size\r\n    var th = $(this).height(),//box height\r\n        tw = $(this).width(),//box width\r\n        im = $(this).children('img'),//image\r\n        ih = im.height(),\r\n        iw = im.width();\r\n    if ((tw/th) >= (iw/ih)) {\r\n        im.addClass('ww').removeClass('wh');\r\n    } else {\r\n        im.addClass('wh').removeClass('ww');\r\n    }\r\n  });\r\n}\r\n\r\n//nav\r\nfunction nav() {\r\n  var navButton = $('.sub-nav__nav-open, .nav__close, .overlay'),\r\n    nav = $('.nav'),\r\n    navLink = $('.nav__link'),\r\n    overlay = $('.overlay'),\r\n    scrollLink = $('.scroll-link');\r\n\r\n  navButton.click(function (event) {\r\n    event.preventDefault();\r\n    nav.toggleClass('nav_active');\r\n    navState();\r\n  })\r\n  \r\n  function navState() {\r\n    if (nav.hasClass('nav_active')) {\r\n      overlay.fadeIn(300);\r\n      scrollLock.hide($(\"body\"));\r\n      $('.page').addClass('page_fixed');\r\n    } else {\r\n      overlay.fadeOut(300);\r\n      scrollLock.show($(\"body\"));\r\n      $('.page').removeClass('page_fixed');\r\n    }\r\n  }\r\n  $(window).resize(function () {\r\n    if (innerWidth > 992) {\r\n      nav.removeClass('nav_active');\r\n      navState();\r\n    }\r\n  });\r\n  navLink.on('click', function () {\r\n    if(innerWidth < 993) {\r\n      nav.removeClass('nav_active');\r\n      navState();\r\n    }\r\n  })\r\n\r\n  //якорные ссылки\r\n  scrollLink.click(function (event) {\r\n    var id = $(this).attr('href'),\r\n      top = $(id).offset().top;\r\n      event.preventDefault();\r\n\r\n    if(innerWidth < 993) {\r\n      nav.removeClass('nav_active');\r\n      navState();\r\n      setTimeout(function () {\r\n        $('body,html').animate({\r\n          scrollTop: top\r\n          }, 400);\r\n        }, 300)\r\n      } else {\r\n        $('body,html').animate({\r\n          scrollTop: top\r\n        }, 400);\r\n      }\r\n  })\r\n}\r\n//lazy\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    visibleOnly: true,\r\n    threshold: '',\r\n    effect: 'fadeIn',\r\n    effectTime: '300'\r\n  });\r\n}\r\n//tooltips\r\nfunction tooltip() {\r\n  $('.tooltip').tooltipster({\r\n    theme: 'tooltipster-light',\r\n    trigger:'custom',\r\n    animationDuration: 100,\r\n    trackerInterval: 100,\r\n    triggerOpen: {\r\n      click: true,  // For mouse\r\n      touchstart: true, // For touch device\r\n      mouseenter: true    // For touch device\r\n    },\r\n    triggerClose: {\r\n      click: true,  // For mouse\r\n      touchleave: true, // For touch device\r\n      mouseleave: true // For mouse\r\n    }\r\n  });\r\n}\r\nfunction slider() {\r\n  var slider = $('.slider');\r\n\r\n  slider.on('init', function () {\r\n    $(this).addClass('slider_visible')\r\n  });\r\n  \r\n  slider.each(function() {\r\n    var slideCount = 1,\r\n        slideCount1200 = 1,\r\n        slideCount992 = 1,\r\n        slideCount768 = 1,\r\n        slideCount576 = 1,\r\n        slideCount420 = 1,\r\n        arrows = false,\r\n        dots = false,\r\n        centerMode = false;\r\n\r\n    if($(this).hasClass('slider_dots')) {\r\n      dots = true;\r\n    }\r\n    if($(this).hasClass('slider_arrows')) {\r\n      arrows = true;\r\n    }\r\n    if($(this).hasClass('recommendations-slider')) {\r\n      slideCount = 6;\r\n      slideCount1200 = 5;\r\n      slideCount992 = 4;\r\n      slideCount768 = 3;\r\n      slideCount576 = 2;\r\n      slideCount420 = 1;\r\n    }\r\n    if($(this).hasClass('barbers__slider')) {\r\n      slideCount = 4;\r\n      slideCount1200 = 4;\r\n      slideCount992 = 3;\r\n      slideCount768 = 2;\r\n      slideCount576 = 1;\r\n      slideCount420 = 1;\r\n    }\r\n    if($(this).hasClass('banner__slider')) {\r\n      centerMode = true;\r\n    }\r\n\r\n    $(this).slick({\r\n      infinite: true,\r\n      dots: dots,\r\n      arrows: arrows,\r\n      speed: 600,\r\n      lazyLoad: 'progressive',\r\n      centerMode: centerMode,\r\n      slidesToShow: slideCount,\r\n      slidesToScroll: slideCount,\r\n      responsive: [\r\n        {\r\n          breakpoint: 1200,\r\n          settings: {\r\n            slidesToShow: slideCount1200,\r\n            slidesToScroll: slideCount1200\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 992,\r\n          settings: {\r\n            slidesToShow: slideCount992,\r\n            slidesToScroll: slideCount992\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 768,\r\n          settings: {\r\n            slidesToShow: slideCount768,\r\n            slidesToScroll: slideCount768\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 576,\r\n          settings: {\r\n            slidesToShow: slideCount576,\r\n            slidesToScroll: slideCount576\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 420,\r\n          settings: {\r\n            slidesToShow: slideCount420,\r\n            slidesToScroll: slideCount420\r\n          }\r\n        }\r\n      ]\r\n    });\r\n  });\r\n}\r\n//gallery\r\nfunction gallery() {\r\n  var row = $('.gallery__row:not(:first-child)'),\r\n      block = $('.gallery-block'),\r\n      title = $('.gallery-block_title'),\r\n      margin;\r\n\r\n  if(innerWidth>576) {\r\n    block.css('margin-top', '0');\r\n    row.each(function() {\r\n        margin = -($(this).height() / 2);\r\n        $(this).css('margin-top', margin);\r\n    }) \r\n  } else {\r\n    row.css('margin-top', '0');\r\n    block.each(function() {\r\n      margin = -($(this).height() / 2);\r\n      $(this).css('margin-top', margin);\r\n    })\r\n  }\r\n}\r\n//popup\r\nfunction modalMagnificBasket() {\r\n  $('.popup_link').magnificPopup({\r\n    closeBtnInside: false,\r\n    showCloseBtn: false,\r\n    fixedContentPos: true,\r\n    removalDelay: 300,\r\n    mainClass: 'mfp-fade'\r\n  });\r\n  $('.popup-close').click(function() {\r\n    $.magnificPopup.close();\r\n});\r\n}\r\n//num\r\nfunction showNum() {\r\n  var num = '999-99-99',\r\n      $toggleBtn = $('.number-block__show-btn');\r\n\r\n      $toggleBtn.on('click', function() {\r\n        $(this).parents('.number-block').find('span').text(num);\r\n        $(this).remove();\r\n      })\r\n}\r\n\r\n//share-trigger\r\nfunction share() {\r\n  var $shareTrigger = $('.share-trigger'),\r\n      $shareBlock = $('.share-area'),\r\n      $shareClose = $('.share-area__close');\r\n\r\n  $shareTrigger.on('click', function(e) {\r\n    e.preventDefault();\r\n    $shareBlock.fadeIn(200);\r\n    pos();\r\n    getVk();\r\n  })\r\n\r\n  $shareClose.on('click', function(e) {\r\n    e.preventDefault();\r\n    $shareBlock.fadeOut(200);\r\n  })\r\n\r\n  function pos() {\r\n    var headerHeight = $('.header').height(),\r\n        scroll = $(window).scrollTop();\r\n      \r\n    console.log(scroll, headerHeight)\r\n\r\n    if (scroll < headerHeight) {\r\n      $shareBlock.css({'position': 'absolute', 'top': headerHeight});\r\n    } else {\r\n      $shareBlock.css({'position': 'fixed', 'top': '0'});\r\n    }\r\n  }\r\n\r\n  function getVk() {\r\n    $.getScript('https://vk.com/js/api/openapi.js?160', function() {\r\n      //\r\n      VK.init({apiId: 6968160, onlyWidgets: true});\r\n      VK.Widgets.Like(\"vk_like\", {type: \"mini\", height: 30});\r\n    })\r\n  }\r\n\r\n  $(window).on('scroll resize', function () {\r\n      pos();\r\n  });\r\n}"]}